<!DOCTYPE html>
<html lang="en" class="Internet-Draft">
<head>
<meta charset="utf-8">
<meta content="Common,Latin" name="scripts">
<meta content="initial-scale=1.0" name="viewport">
<title>Guidelines for QUIC Multipath over SCION</title>
<meta content="Jelte van Bommel" name="author">
<meta content="Francois Wirz" name="author">
<meta content="Tilmann Zaeschke" name="author">
<meta content="
       This document provides informational guidance for using the
Multipath Extension for QUIC with the SCION networking technology. 
       SCION is an inter-domain routing protocol that supports path-aware
multi-path networking.
The multiple paths and their associated path information offered
by SCION provide opportunities as well as challenges for
combining QUIC-MP with SCION. 
       This document explores various aspects of this combination, such as
algorithms for congestion control, RTT estimation, and general
application scenarios.
In addition, it provides techniques and guidance to maintain the security
of QUIC-MP and SCION,
and to leverage path-aware multi-path networking with QUIC-MP. 
    " name="description">
<meta content="xml2rfc 3.30.1" name="generator">
<meta content="SCION" name="keyword">
<meta content="QUIC" name="keyword">
<meta content="multipath" name="keyword">
<meta content="draft-zaeschke-scion-quic-multipath-latest" name="ietf.draft">
<!-- Generator version information:
  xml2rfc 3.30.1
    Python 3.12.11
    ConfigArgParse 1.7
    google-i18n-address 3.1.1
    intervaltree 3.1.0
    Jinja2 3.1.6
    lxml 5.3.1
    platformdirs 4.4.0
    pycountry 24.6.1
    PyYAML 6.0.2
    requests 2.32.5
    setuptools 80.9.0
    wcwidth 0.2.13
-->
<link href="draft-zaeschke-scion-quic-multipath.xml" rel="alternate" type="application/rfc+xml">
<link href="#copyright" rel="license">
<style type="text/css">@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}

@font-face {
  font-family: 'Lora';
  font-style: italic;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Italic'), local('Lora-Italic'), url('https://martinthomson.github.io/rfc-css/fonts/lora-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Lora Regular'), local('Lora-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/lora-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C88, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-cyrillic.woff2') format('woff2');
  unicode-range: U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-vietnamese.woff2') format('woff2');
  unicode-range: U+0102-0103, U+0110-0111, U+1EA0-1EF9, U+20AB;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 700;
  font-display: swap;
  src: local('Lora Bold'), local('Lora-Bold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-bold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Lora';
  font-style: normal;
  font-weight: 600;
  font-display: swap;
  src: local('Lora SemiBold'), local('Lora-SemiBold'), url('https://martinthomson.github.io/rfc-css/fonts/lora-semibold-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-024F, U+0259, U+1E00-1EFF, U+2020, U+20A0-20AB, U+20AD-20CF, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Oxygen Mono';
  font-style: normal;
  font-weight: 400;
  font-display: swap;
  src: local('Oxygen Mono'), local('OxygenMono-Regular'), url('https://martinthomson.github.io/rfc-css/fonts/oxygenmono-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+2000-206F, U+2074, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: italic;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-italic-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic-ext.woff2') format('woff2');
  unicode-range: U+0460-052F, U+1C80-1C8A, U+20B4, U+2DE0-2DFF, U+A640-A69F, U+FE2E-FE2F;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-cyrillic.woff2') format('woff2');
  unicode-range: U+0301, U+0400-045F, U+0490-0491, U+04B0-04B1, U+2116;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-greek.woff2') format('woff2');
  unicode-range: U+0370-0377, U+037A-037F, U+0384-038A, U+038C, U+038E-03A1, U+03A3-03FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin-ext.woff2') format('woff2');
  unicode-range: U+0100-02BA, U+02BD-02C5, U+02C7-02CC, U+02CE-02D7, U+02DD-02FF, U+0304, U+0308, U+0329, U+1D00-1DBF, U+1E00-1E9F, U+1EF2-1EFF, U+2020, U+20A0-20AB, U+20AD-20C0, U+2113, U+2C60-2C7F, U+A720-A7FF;
}
@font-face {
  font-family: 'Sofia Sans Semi Condensed';
  font-style: normal;
  font-weight: 1 1000;
  src: url('https://martinthomson.github.io/rfc-css/fonts/sofiasanssemicondensed-regular-latin.woff2') format('woff2');
  unicode-range: U+0000-00FF, U+0131, U+0152-0153, U+02BB-02BC, U+02C6, U+02DA, U+02DC, U+0304, U+0308, U+0329, U+2000-206F, U+20AC, U+2122, U+2191, U+2193, U+2212, U+2215, U+FEFF, U+FFFD;
}

:root {
  color-scheme: light dark;
  --background-color: #fff;
  --text-color: #222;
  --title-color: #191919;
  --link-color: #2a6496;
  --highlight-color: #f9f9f9;
  --line-color: #eee;
  --pilcrow-weak: #ddd;
  --pilcrow-strong: #bbb;
  --small-font-size: 14.5px;
  --font-mono: 'Oxygen Mono', monospace;
  --font-title: "Sofia Sans Semi Condensed", sans-serif;
  scrollbar-color: #bbb #eee;
}
body {
  max-width: 600px;
  margin: 75px auto;
  padding: 0 5px;
  color: var(--text-color);
  background-color: var(--background-color);
  font: 16px/22px "Lora", serif;
  scroll-behavior: smooth;
}

.ears {
  display: none;
}

/* headings */
section {
  clear: both;
}
.section-number {
  padding-right: 0.5em;
}
h1, h2, h3, h4, h5, h6 {
  font-family: var(--font-title);
  font-weight: 680;
  margin: 0.8em 0 0.3em;
  font-size-adjust: 0.5;
  color: var(--title-color);
}
h1#title {
  font-size: 32px;
  line-height: 40px;
  clear: both;
}
h1#title, h1#rfcnum {
  margin: 1.5em 0 0.2em;
}
h1#rfcnum + h1#title {
  margin: 0.2em 0;
}

h1, h2, h3 {
  font-size: 22px;
  line-height: 27px;
}
h4, h5, h6 {
  font-size: 20px;
  line-height: 24px;
}

/* general structure */
.author {
  padding-bottom: 0.3em;
  vertical-align: top;
}
#abstract+p {
  font-size: 18px;
  line-height: 24px;
}
#abstract+p code, #abstract+p samp, #abstract+p tt {
  font-size: 16px;
  line-height: 0;
}

p {
  padding: 0;
  margin: 0.5em 0;
  text-align: left;
}
div {
  margin: 0;
}
.alignRight.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignRight.art-text pre {
  padding: 0;
  width: auto;
}
.alignRight {
  margin: 1em 0;
}
.alignRight > *:first-child {
  border: none;
  margin: 0;
  float: right;
  clear: both;
}
.alignRight > *:nth-child(2) {
  clear: both;
  display: block;
  border: none;
}
svg {
  display: block;
}
/* font-family isn't space-separated, but =~ will have to do */
svg[font-family~="monospace" i], svg [font-family~="monospace" i] {
  font-family: var(--font-mono);
}
.alignCenter.art-text {
  background-color: var(--highlight-color);
  border: 1px solid var(--line-color);
  border-radius: 3px;
  padding: 0.5em 1em 0;
  margin-bottom: 0.5em;
}
.alignCenter.art-text pre {
  padding: 0;
  width: auto;
}
.alignCenter {
  margin: 1em 0;
}
.alignCenter > *:first-child {
  border: none;
  /* this isn't optimal, but it's an existence proof.  PrinceXML doesn't
     support flexbox yet.
  */
  display: table;
  margin: 0 auto;
}

/* lists */
ol, ul {
  padding: 0;
  margin: 0 0 0.5em 2em;
  & :is(ol, ul) {
    margin-left: 1em;
  }
}
li {
  margin: 0 0 0.25em 0;
}
ul.empty, .ulEmpty {
  list-style-type: none;
  & li {
    margin-top: 0.5em;
  }
}
:is(ul, ol).compact, .ulCompact, .olCompact {
  margin: 0 0 0 2em;
  & li {
    margin: 0;
    & :first-child { margin-top: 0; }
    & :last-child { margin-bottom: 0; }
  }
}

/* definition lists */
dl {
  clear: left;
  --indent: 3ch;
  /* --indent: attr(indent ch); not supported in any browser, but we can dream */
  &.olPercent {
    --indent: 5ch;
    & > dt {
      min-width: calc(var(--indent) - 2ch);
    }
  }
  &.olPercent > dt {
    float: none;
  }

  dl > dd > & {
    margin-top: 0.5em;
    margin-bottom: 0;
  }
}
dl:not(.dlNewline) > dt {
  float: left;
  margin-right: 2ch;
  min-width: 8ch;
}
dl > dd {
  margin-bottom: .8em;
  margin-left: var(--indent) !important; /* stupid element overrides */
  min-height: 2ex;
}
:is(dl.compact, .dlCompact) > dd {
  margin-bottom: 0;
  & > :is(:first-child, .break:first-child + *) {
    margin-top: 0;
  }
  & > :is(:last-child) {
    margin-bottom: 0;
  }
}
:is(dd, span).break {
  display: none;
}

/* links */
a, a[href].selfRef:hover {
  text-decoration: none;
}
a[href] {
  color: var(--link-color);
}
a[href].selfRef, .iref + a[href].internal {
  color: var(--text-color);
}
a[href]:hover {
  text-decoration: underline;
}
a[href].selfRef:hover {
  background-color: var(--highlight-color);
}
a.xref:is(.cite, .auto), :is(#status-of-memo, #copyright) a {
  white-space: nowrap;
}

/* Figures */
tt, code, pre {
  background-color: var(--highlight-color);
  font: 14px/22px var(--font-mono);
}
tt, code {
  /* changing the font for inline elements leads to different ascender
     and descender heights; as we want to retain baseline alignment,
     remove leading to avoid altering the final height of lines
     note: this fails if these blocks take an entire line,
     a different solution would be great */
  line-height: 0;
}
:is(h1, h2, h3, h4, h5, h6) :is(tt, code) {
  font-size: 84%;
}
pre {
  border: 1px solid var(--line-color);
  font-size: 13.5px;
  line-height: 16px;
  letter-spacing: -0.2px;
  margin: 5px;
  padding: 5px;
}
img {
  max-width: 100%;
}
figure {
  margin: 0.5em 0;
  padding: 0;
}
figure blockquote {
  margin: 0.8em 0.4em 0.4em;
}
figcaption, caption {
  font-style: italic;
  margin: 0.5em 1.5em;
  text-align: left;
  caption-side: bottom;
}
@media screen {
  /* Auto-collapse boilerplate. */
  :is(#status-of-memo, #copyright) p {
    margin: -2px 0;
    max-height: 0;
    transition: max-height 2s ease, margin 0.5s ease 0.5s;
    overflow: hidden;
  }
  :is(#status-of-memo, #copyright):hover p,
  :is(#status-of-memo, #copyright) h2:target ~ p {
    margin: 0.5em 0;
    max-height: 500px;
    overflow: auto;
  }
  pre, svg {
    display: inline-block;
    /* In the horizontal direction, sometimes people make over-sized figures.
       Scrollbars for those is therefore necessary: auto adds them as necessary..
       In the vertical direction, the line-height can combine with the font
       asender/descender height to produce scrollbars: hidden avoids that. */
    overflow: auto hidden;
  }
  pre {
    max-width: 100%;
    width: calc(100% - 22px - 1em);
  }
  svg {
    max-width: calc(100% - 22px - 1em);
  }
  figure pre {
    display: block;
    width: calc(100% - 25px);
  }
  :is(pre, svg) + .pilcrow {
    display: inline-block;
    vertical-align: text-bottom;
    padding-bottom: 8px;
  }
}

/* aside, blockquote */
aside, blockquote {
  margin-left: 0;
  padding: 0 2em;
  font-style: italic;
}
blockquote {
  margin: 1em 0;
}
cite {
  display: block;
  text-align: right;
  font-style: italic;
}

/* tables */
table {
  width: auto;
  max-width: 100%;
  margin: 0 0 1em;
  border-collapse: collapse;
}
table.right {
  margin-left: auto;
}
table.center {
  margin-left: auto;
  margin-right: auto;
}
table.left {
  margin-right: auto;
}
table .text-left {
  text-align: left;
}
table .text-center {
  text-align: center;
}
table .text-right {
  text-align: right;
}

thead, tbody {
  border: 1px solid var(--line-color);
}
th, td {
  text-align: left;
  vertical-align: top;
  padding: 5px 10px;
}
th {
  background-color: var(--line-color);
}
:is(tr:nth-child(2n), thead+tbody > tr:nth-child(2n+1)) > td {
  background-color: var(--background-color);
}
:is(tr:nth-child(2n+1), thead+tbody > tr:nth-child(2n)) > td {
  background-color: var(--highlight-color);
}
table caption {
  margin: 0;
  padding: 3px 0 3px 1em;
}
table p {
  margin: 0;
}

/* pilcrow */
a.pilcrow {
  margin-left: 3px;
  opacity: 0.2;
  user-select: none;
  &[href] {
    color: var(--pilcrow-weak);
    &:hover { text-decoration: none; }
  }
}
@media not print {
  :hover > a.pilcrow {
    opacity: 1;
  }
  a.pilcrow[href]:hover {
    color: var(--pilcrow-strong);
    background-color: transparent;
  }
}
@media print {
  a.pilcrow {
    display: none;
  }
}

/* misc */
hr {
  border: 0;
  border-top: 1px solid var(--line-color);
}
.bcp14 {
  font-variant: small-caps;
  font-weight: 600;
  font-size: var(--small-font-size);
}
.role {
  font-variant: all-small-caps;
}
sub, sup {
  line-height: 1;
  font-size: 80%;
}

/* info block */
#identifiers {
  margin: 0;
  font-size: var(--small-font-size);
  line-height: 18px;
  --identifier-width: 15ch;
  & dt {
    width: var(--identifier-width);
    min-width: var(--identifier-width);
    clear: left;
    float: left;
    text-align: right;
    margin-right: 1ch;
  }
  & dd {
    margin: 0;
    margin-left: calc(1em + var(--identifier-width)) !important;
    min-width: 5em;
  }
  & .authors {
    & .author {
      display: inline-block;
      margin-right: 1.5em;
    }
    & .org {
      font-style: italic;
    }
  }
}

/* The prepared/rendered info at the very bottom of the page */
.docInfo {
  color: #999;
  font-size: 0.9em;
  font-style: italic;
  margin-top: 2em;
}
.docInfo .prepared {
  float: right;
}

/* table of contents */
#toc {
  padding: 0.75em 0 2em 0;
  margin-bottom: 1em;

  & nav {
    & ul {
      margin: 0 0.5em 0 0;
      padding: 0;
      list-style: none;
    }
    & li {
      line-height: 1.3em;
      margin: 2px 0;
      padding-left: 1.2em;
      text-indent: -1.2em;
    }
  }
  & a.xref {
    white-space: normal;
  }
}

.references {
  & > dt {
    text-align: right;
    font-weight: bold;
    min-width: 10ch;
    margin-right: 1.5ch;
    &:target::before {
      content: "⇒";
      margin: 0 10px 0 -25px;
    }
  }
  & > dd {
    margin-left: 12ch !important;
    overflow: visible;
    & .refInstance {
      margin-bottom: 0.8em;
    }
    & .ascii {
      margin-bottom: 0.25em;
    }
  }
}

#rfc\.index\.index + ul {
  margin-left: 0;
}

/* authors */
address.vcard {
  font-style: normal;
  max-width: 20em;
  margin: 1em auto 1em 0;

  & .nameRole {
    font-weight: 700;
    margin-left: 0;
  }
  & .label {
    margin: 0.5em 0;
  }
  & .type {
    display: none;
  }
  & .alternative-contact {
    margin: 0.5em 0 0.25em 0;
  }
  & .non-ascii {
    margin: 0 0 0 2em;
  }
  & div.left {
    text-align: left;
  }
  & div.right {
    text-align: right;
  }
}

hr.addr {
  border-top: 1px dashed;
  margin: 0;
  color: #ddd;
  max-width: calc(100% - 16px);
}
@media (min-width: 500px) {
  #authors-addresses > section {
    column-count: 2;
    column-gap: 20px;
  }
  #authors-addresses > section > h2 {
    column-span: all;
  }
  /* hack for break-inside: avoid-column */
  #authors-addresses address {
    display: inline-block;
    break-inside: avoid-column;
  }
}

/* Comments */
.rfcEditorRemove p:first-of-type {
  font-style: italic;
}
.cref {
  background-color: rgba(249, 232, 105, 0.3);
  padding: 2px 4px;
}
.crefSource {
  font-style: italic;
}

@media screen {
  #toc nav {
    font-family: var(--font-title);
    font-weight: 360;
    & > ul { margin-bottom: 2em; }
    & ul {
      margin: 0 0 0 4px;
      & :is(p, li) {
        margin: 2px 0;
      }
    }
  }
  #toc a.toplink {
    float: right;
  }
}
@media not screen {
  #toc a.toplink {
    display: none;
  }
}


/* TOC layout for smaller screens */
@media screen and (max-width: 929px) {
  #toc {
    position: fixed;
    z-index: 2;
    top: 0;
    right: 0;
    padding: 1px 0 0 0;
    margin: 0;
    border-bottom: 1px solid #ccc;
    opacity: 0.6;
  }
  #toc h2 {
    margin: 0;
    padding: 2px 0 2px 6px;
    padding-right: 1em;
    font-size: 18px;
    line-height: 24px;
    min-width: 190px;
    text-align: right;
    background-color: #444;
    color: white;
    cursor: pointer;
    &::before { /* css hamburger */
      float: right;
      position: relative;
      width: 1em;
      height: 1px;
      left: -164px;
      margin: 8px 0 0 0;
      background: white none repeat scroll 0 0;
      box-shadow: 0 4px 0 0 white, 0 8px 0 0 white;
      content: "";
    }
  }
  #toc nav {
    display: none;
    background-color: var(--background-color);
    padding: 0.5em 1em 1em;
    overflow: auto;
    overscroll-behavior: contain;
    height: calc(100vh - 48px);
    border-left: 1px solid #ddd;
  }
  #toc.active {
    opacity: 1;
    & nav { display: block; }
  }
  /* Make the collapsed ToC header render white on gray also when it's a link */
  #toc h2 a,
  #toc h2 a:is(:link, :focus, :hover),
  #toc a.toplink,
  #toc a.toplink:hover {
    color: white;
    background-color: #444;
    text-decoration: none;
  }
  #toc a.toplink {
    margin: 2px 0.5em 0;
  }
}

/* TOC layout for wide screens */
@media screen and (min-width: 930px) {
  body {
    padding-right: 360px;
    padding-right: calc(min(180px + 20%, 500px));
  }
  #toc {
    position: fixed;
    bottom: 0;
    right: 0;
    right: calc(50vw - 480px);
    width: 312px;
    margin: 0;
    padding: 0;
    z-index: 1;
  }
  #toc h2 {
    margin: 0;
    padding: 0.25em 1em 1em 0;
  }
  #toc nav {
    display: block;
    height: calc(90vh - 84px);
    bottom: 0;
    padding: 0.5em 0 2em;
    overflow: auto;
    overscroll-behavior: contain;
    scrollbar-width: thin;
  }
  img { /* future proofing */
    max-width: 100%;
    height: auto;
  }
  #toc a.toplink {
    margin: 8px 0.5em 0;
  }
}

/* pagination */
@media print {
  body {
    width: 100%;
  }
  p {
    orphans: 3;
    widows: 3;
  }
  #n-copyright-notice {
    border-bottom: none;
  }
  #toc, #n-introduction {
    page-break-before: always;
  }
  #toc {
    border-top: none;
    padding-top: 0;
  }
  figure, pre, .vcard {
    page-break-inside: avoid;
  }
  h1, h2, h3, h4, h5, h6 {
    page-break-after: avoid;
  }
  :is(h2, h3, h4, h5, h6)+*, dd {
    page-break-before: avoid;
  }
  pre {
    white-space: pre-wrap;
    word-wrap: break-word;
    font-size: 10pt;
  }
  table {
    border: 1px solid #ddd;
  }
  td {
    border-top: 1px solid #ddd;
  }
}

@page :first {
  padding-top: 0;
  @top-left {
    content: normal;
    border: none;
  }
  @top-center {
    content: normal;
    border: none;
  }
  @top-right {
    content: normal;
    border: none;
  }
}

@page {
  size: A4;
  margin-bottom: 45mm;
  padding-top: 20px;
}

/* Dark mode. */
@media (prefers-color-scheme: dark) {
:root {
  --background-color: #121212;
  --text-color: #f0f0f0;
  --title-color: #fff;
  --link-color: #4da4f0;
  --highlight-color: #282828;
  --line-color: #444;
  --pilcrow-weak: #444;
  --pilcrow-strong: #666;
  scrollbar-color: #777 #333;
}
}

/* SVG Trick: a prefix match works because only black and white are allowed */
svg :is([stroke="black"], [stroke^="#000"]) {
  stroke: var(--text-color);
}
svg :is([stroke="white"], [stroke^="#fff"]) {
  stroke: var(--background-color);
}
svg :is([fill="black"], [fill^="#000"], :not([fill])) {
  fill: var(--text-color);
}
svg :is([fill="white"], [fill^="#fff"]) {
  fill: var(--background-color);
}
</style>

</head>
<body class="xml2rfc">
<table class="ears">
<thead><tr>
<td class="left">Internet-Draft</td>
<td class="center">SCION-QUIC-MP</td>
<td class="right">July 2025</td>
</tr></thead>
<tfoot><tr>
<td class="left">van Bommel, et al.</td>
<td class="center">Expires 5 January 2026</td>
<td class="right">[Page]</td>
</tr></tfoot>
</table>
<div id="external-metadata" class="document-information"></div>
<div id="internal-metadata" class="document-information">
<dl id="identifiers">
<dt class="label-workgroup">Workgroup:</dt>
<dd class="workgroup">PANRG</dd>
<dt class="label-internet-draft">Internet-Draft:</dt>
<dd class="internet-draft">draft-zaeschke-scion-quic-multipath-latest</dd>
<dt class="label-published">Published:</dt>
<dd class="published">
<time datetime="2025-07-04" class="published">4 July 2025</time>
    </dd>
<dt class="label-intended-status">Intended Status:</dt>
<dd class="intended-status">Informational</dd>
<dt class="label-expires">Expires:</dt>
<dd class="expires"><time datetime="2026-01-05">5 January 2026</time></dd>
<dt class="label-authors">Authors:</dt>
<dd class="authors">
<div class="author">
      <div class="author-name">J. van Bommel</div>
<div class="org">ETH Zurich</div>
</div>
<div class="author">
      <div class="author-name">F. Wirz</div>
<div class="org">ETH Zurich</div>
</div>
<div class="author">
      <div class="author-name">T. Zaeschke, <span class="editor">Ed.</span>
</div>
<div class="org">ETH Zurich</div>
</div>
</dd>
</dl>
</div>
<h1 id="title">Guidelines for QUIC Multipath over SCION</h1>
<section id="section-abstract">
      <h2 id="abstract"><a href="#abstract" class="selfRef">Abstract</a></h2>
<p id="section-abstract-1">This document provides informational guidance for using the
Multipath Extension for QUIC with the SCION networking technology.<a href="#section-abstract-1" class="pilcrow">¶</a></p>
<p id="section-abstract-2">SCION is an inter-domain routing protocol that supports path-aware
multi-path networking.
The multiple paths and their associated path information offered
by SCION provide opportunities as well as challenges for
combining QUIC-MP with SCION.<a href="#section-abstract-2" class="pilcrow">¶</a></p>
<p id="section-abstract-3">This document explores various aspects of this combination, such as
algorithms for congestion control, RTT estimation, and general
application scenarios.
In addition, it provides techniques and guidance to maintain the security
of QUIC-MP and SCION,
and to leverage path-aware multi-path networking with QUIC-MP.<a href="#section-abstract-3" class="pilcrow">¶</a></p>
</section>
<section class="note rfcEditorRemove" id="section-note.1">
      <h2 id="name-about-this-document">
<a href="#name-about-this-document" class="section-name selfRef">About This Document</a>
      </h2>
<p id="section-note.1-1">This note is to be removed before publishing as an RFC.<a href="#section-note.1-1" class="pilcrow">¶</a></p>
<p id="section-note.1-2">
        The latest revision of this draft can be found at <span><a href="https://netsec-ethz.github.io/scion-quic-multipath_I-D/draft-zaeschke-scion-quic-multipath.html">https://netsec-ethz.github.io/scion-quic-multipath_I-D/draft-zaeschke-scion-quic-multipath.html</a></span>.
        Status information for this document may be found at <span><a href="https://datatracker.ietf.org/doc/draft-zaeschke-scion-quic-multipath/">https://datatracker.ietf.org/doc/draft-zaeschke-scion-quic-multipath/</a></span>.<a href="#section-note.1-2" class="pilcrow">¶</a></p>
<p id="section-note.1-3">
        Discussion of this document takes place on the
        WG Working Group mailing list (<span><a href="mailto:panrg@irtf.org">mailto:panrg@irtf.org</a></span>),
        which is archived at <span><a href="https://datatracker.ietf.org/rg/panrg">https://datatracker.ietf.org/rg/panrg</a></span>.
        Subscribe at <span><a href="https://www.ietf.org/mailman/listinfo/panrg/">https://www.ietf.org/mailman/listinfo/panrg/</a></span>.<a href="#section-note.1-3" class="pilcrow">¶</a></p>
<p id="section-note.1-4">Source for this draft and an issue tracker can be found at
        <span><a href="https://github.com/netsec-ethz/scion-quic-multipath_I-D">https://github.com/netsec-ethz/scion-quic-multipath_I-D</a></span>.<a href="#section-note.1-4" class="pilcrow">¶</a></p>
</section>
<div id="status-of-memo">
<section id="section-boilerplate.1">
        <h2 id="name-status-of-this-memo">
<a href="#name-status-of-this-memo" class="section-name selfRef">Status of This Memo</a>
        </h2>
<p id="section-boilerplate.1-1">
        This Internet-Draft is submitted in full conformance with the
        provisions of BCP 78 and BCP 79.<a href="#section-boilerplate.1-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-2">
        Internet-Drafts are working documents of the Internet Engineering Task
        Force (IETF). Note that other groups may also distribute working
        documents as Internet-Drafts. The list of current Internet-Drafts is
        at <span><a href="https://datatracker.ietf.org/drafts/current/">https://datatracker.ietf.org/drafts/current/</a></span>.<a href="#section-boilerplate.1-2" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-3">
        Internet-Drafts are draft documents valid for a maximum of six months
        and may be updated, replaced, or obsoleted by other documents at any
        time. It is inappropriate to use Internet-Drafts as reference
        material or to cite them other than as "work in progress."<a href="#section-boilerplate.1-3" class="pilcrow">¶</a></p>
<p id="section-boilerplate.1-4">
        This Internet-Draft will expire on 5 January 2026.<a href="#section-boilerplate.1-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="copyright">
<section id="section-boilerplate.2">
        <h2 id="name-copyright-notice">
<a href="#name-copyright-notice" class="section-name selfRef">Copyright Notice</a>
        </h2>
<p id="section-boilerplate.2-1">
            Copyright (c) 2025 IETF Trust and the persons identified as the
            document authors. All rights reserved.<a href="#section-boilerplate.2-1" class="pilcrow">¶</a></p>
<p id="section-boilerplate.2-2">
            This document is subject to BCP 78 and the IETF Trust's Legal
            Provisions Relating to IETF Documents
            (<span><a href="https://trustee.ietf.org/license-info">https://trustee.ietf.org/license-info</a></span>) in effect on the date of
            publication of this document. Please review these documents
            carefully, as they describe your rights and restrictions with
            respect to this document.<a href="#section-boilerplate.2-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="toc">
<section id="section-toc.1">
        <a href="#" onclick="scroll(0,0)" class="toplink">▲</a><h2 id="name-table-of-contents">
<a href="#name-table-of-contents" class="section-name selfRef">Table of Contents</a>
        </h2>
<nav class="toc"><ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.1">
            <p id="section-toc.1-1.1.1" class="keepWithNext"><a href="#section-1" class="auto internal xref">1</a>.  <a href="#name-introduction" class="internal xref">Introduction</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2">
            <p id="section-toc.1-1.2.1" class="keepWithNext"><a href="#section-2" class="auto internal xref">2</a>.  <a href="#name-terminology-and-conventions" class="internal xref">Terminology and Conventions</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.2.2.1">
                <p id="section-toc.1-1.2.2.1.1" class="keepWithNext"><a href="#section-2.1" class="auto internal xref">2.1</a>.  <a href="#name-terminology" class="internal xref">Terminology</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.3">
            <p id="section-toc.1-1.3.1"><a href="#section-3" class="auto internal xref">3</a>.  <a href="#name-overview-of-quic-multipath-" class="internal xref">Overview of QUIC Multipath in Path-Aware Networks</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4">
            <p id="section-toc.1-1.4.1"><a href="#section-4" class="auto internal xref">4</a>.  <a href="#name-multipath-use-cases-and-cat" class="internal xref">Multipath Use Cases and Categorization</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.1">
                <p id="section-toc.1-1.4.2.1.1"><a href="#section-4.1" class="auto internal xref">4.1</a>.  <a href="#name-fault-tolerance-and-availab" class="internal xref">Fault Tolerance and Availability</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.2">
                <p id="section-toc.1-1.4.2.2.1"><a href="#section-4.2" class="auto internal xref">4.2</a>.  <a href="#name-high-throughput" class="internal xref">High Throughput</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.3">
                <p id="section-toc.1-1.4.2.3.1"><a href="#section-4.3" class="auto internal xref">4.3</a>.  <a href="#name-low-latency" class="internal xref">Low Latency</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.4">
                <p id="section-toc.1-1.4.2.4.1"><a href="#section-4.4" class="auto internal xref">4.4</a>.  <a href="#name-policy-driven-routing-and-r" class="internal xref">Policy-Driven Routing and Routing Constraints</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.5">
                <p id="section-toc.1-1.4.2.5.1"><a href="#section-4.5" class="auto internal xref">4.5</a>.  <a href="#name-anonymity-and-traffic-obfus" class="internal xref">Anonymity and Traffic Obfuscation</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.4.2.6">
                <p id="section-toc.1-1.4.2.6.1"><a href="#section-4.6" class="auto internal xref">4.6</a>.  <a href="#name-gateways-and-proxies" class="internal xref">Gateways and Proxies</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5">
            <p id="section-toc.1-1.5.1"><a href="#section-5" class="auto internal xref">5</a>.  <a href="#name-technical-considerations" class="internal xref">Technical Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1">
                <p id="section-toc.1-1.5.2.1.1"><a href="#section-5.1" class="auto internal xref">5.1</a>.  <a href="#name-addressing" class="internal xref">Addressing</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.1">
                    <p id="section-toc.1-1.5.2.1.2.1.1"><a href="#section-5.1.1" class="auto internal xref">5.1.1</a>.  <a href="#name-key-implications" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.1.2.2">
                    <p id="section-toc.1-1.5.2.1.2.2.1"><a href="#section-5.1.2" class="auto internal xref">5.1.2</a>.  <a href="#name-recommendations" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2">
                <p id="section-toc.1-1.5.2.2.1"><a href="#section-5.2" class="auto internal xref">5.2</a>.  <a href="#name-interoperability-of-quic-mp" class="internal xref">Interoperability of QUIC-MP Path ID and Network Paths</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.1">
                    <p id="section-toc.1-1.5.2.2.2.1.1"><a href="#section-5.2.1" class="auto internal xref">5.2.1</a>.  <a href="#name-key-implications-2" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.2.2.2">
                    <p id="section-toc.1-1.5.2.2.2.2.1"><a href="#section-5.2.2" class="auto internal xref">5.2.2</a>.  <a href="#name-recommendations-2" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3">
                <p id="section-toc.1-1.5.2.3.1"><a href="#section-5.3" class="auto internal xref">5.3</a>.  <a href="#name-initial-handshake" class="internal xref">Initial Handshake</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.1">
                    <p id="section-toc.1-1.5.2.3.2.1.1"><a href="#section-5.3.1" class="auto internal xref">5.3.1</a>.  <a href="#name-key-implications-3" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.3.2.2">
                    <p id="section-toc.1-1.5.2.3.2.2.1"><a href="#section-5.3.2" class="auto internal xref">5.3.2</a>.  <a href="#name-recommendations-3" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4">
                <p id="section-toc.1-1.5.2.4.1"><a href="#section-5.4" class="auto internal xref">5.4</a>.  <a href="#name-congestion-control" class="internal xref">Congestion Control</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.1">
                    <p id="section-toc.1-1.5.2.4.2.1.1"><a href="#section-5.4.1" class="auto internal xref">5.4.1</a>.  <a href="#name-coupled-congestion-control" class="internal xref">Coupled Congestion Control</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.2">
                    <p id="section-toc.1-1.5.2.4.2.2.1"><a href="#section-5.4.2" class="auto internal xref">5.4.2</a>.  <a href="#name-key-implications-4" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.4.2.3">
                    <p id="section-toc.1-1.5.2.4.2.3.1"><a href="#section-5.4.3" class="auto internal xref">5.4.3</a>.  <a href="#name-recommendations-4" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5">
                <p id="section-toc.1-1.5.2.5.1"><a href="#section-5.5" class="auto internal xref">5.5</a>.  <a href="#name-rtt-estimation" class="internal xref">RTT Estimation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.1">
                    <p id="section-toc.1-1.5.2.5.2.1.1"><a href="#section-5.5.1" class="auto internal xref">5.5.1</a>.  <a href="#name-key-implications-5" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.5.2.2">
                    <p id="section-toc.1-1.5.2.5.2.2.1"><a href="#section-5.5.2" class="auto internal xref">5.5.2</a>.  <a href="#name-recommendations-5" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6">
                <p id="section-toc.1-1.5.2.6.1"><a href="#section-5.6" class="auto internal xref">5.6</a>.  <a href="#name-mtu-discovery" class="internal xref">MTU Discovery</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.6.2.1">
                    <p id="section-toc.1-1.5.2.6.2.1.1"><a href="#section-5.6.1" class="auto internal xref">5.6.1</a>.  <a href="#name-key-implications-and-recomm" class="internal xref">Key Implications and Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.7">
                <p id="section-toc.1-1.5.2.7.1"><a href="#section-5.7" class="auto internal xref">5.7</a>.  <a href="#name-retransmission-pto" class="internal xref">Retransmission &amp; PTO</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8">
                <p id="section-toc.1-1.5.2.8.1"><a href="#section-5.8" class="auto internal xref">5.8</a>.  <a href="#name-paths-having-different-pmtu" class="internal xref">Paths Having Different PMTU Sizes</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8.2.1">
                    <p id="section-toc.1-1.5.2.8.2.1.1"><a href="#section-5.8.1" class="auto internal xref">5.8.1</a>.  <a href="#name-key-implications-6" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.8.2.2">
                    <p id="section-toc.1-1.5.2.8.2.2.1"><a href="#section-5.8.2" class="auto internal xref">5.8.2</a>.  <a href="#name-recommendations-6" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9">
                <p id="section-toc.1-1.5.2.9.1"><a href="#section-5.9" class="auto internal xref">5.9</a>.  <a href="#name-path-selection" class="internal xref">Path Selection</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9.2.1">
                    <p id="section-toc.1-1.5.2.9.2.1.1"><a href="#section-5.9.1" class="auto internal xref">5.9.1</a>.  <a href="#name-dynamic-approach" class="internal xref">Dynamic Approach</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9.2.2">
                    <p id="section-toc.1-1.5.2.9.2.2.1"><a href="#section-5.9.2" class="auto internal xref">5.9.2</a>.  <a href="#name-bottleneck-detection" class="internal xref">Bottleneck Detection</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9.2.3">
                    <p id="section-toc.1-1.5.2.9.2.3.1"><a href="#section-5.9.3" class="auto internal xref">5.9.3</a>.  <a href="#name-key-implications-7" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.9.2.4">
                    <p id="section-toc.1-1.5.2.9.2.4.1"><a href="#section-5.9.4" class="auto internal xref">5.9.4</a>.  <a href="#name-recommendations-7" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10">
                <p id="section-toc.1-1.5.2.10.1"><a href="#section-5.10" class="auto internal xref">5.10</a>. <a href="#name-packet-scheduling" class="internal xref">Packet Scheduling</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10.2.1">
                    <p id="section-toc.1-1.5.2.10.2.1.1"><a href="#section-5.10.1" class="auto internal xref">5.10.1</a>.  <a href="#name-key-implications-8" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.10.2.2">
                    <p id="section-toc.1-1.5.2.10.2.2.1"><a href="#section-5.10.2" class="auto internal xref">5.10.2</a>.  <a href="#name-recommendations-8" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.11">
                <p id="section-toc.1-1.5.2.11.1"><a href="#section-5.11" class="auto internal xref">5.11</a>. <a href="#name-address-validation-token" class="internal xref">Address Validation Token</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.12">
                <p id="section-toc.1-1.5.2.12.1"><a href="#section-5.12" class="auto internal xref">5.12</a>. <a href="#name-path-id-allocation" class="internal xref">Path ID Allocation</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.12.2.1">
                    <p id="section-toc.1-1.5.2.12.2.1.1"><a href="#section-5.12.1" class="auto internal xref">5.12.1</a>.  <a href="#name-key-implications-9" class="internal xref">Key Implications</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.5.2.12.2.2">
                    <p id="section-toc.1-1.5.2.12.2.2.1"><a href="#section-5.12.2" class="auto internal xref">5.12.2</a>.  <a href="#name-recommendations-9" class="internal xref">Recommendations</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6">
            <p id="section-toc.1-1.6.1"><a href="#section-6" class="auto internal xref">6</a>.  <a href="#name-summary-of-recommendations" class="internal xref">Summary of Recommendations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.1">
                <p id="section-toc.1-1.6.2.1.1"><a href="#section-6.1" class="auto internal xref">6.1</a>.  <a href="#name-recommendations-for-quic-mp" class="internal xref">Recommendations for QUIC-MP Implementations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.2">
                <p id="section-toc.1-1.6.2.2.1"><a href="#section-6.2" class="auto internal xref">6.2</a>.  <a href="#name-recommendations-for-scion-i" class="internal xref">Recommendations for SCION Implementations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.3">
                <p id="section-toc.1-1.6.2.3.1"><a href="#section-6.3" class="auto internal xref">6.3</a>.  <a href="#name-recommendations-for-both-qu" class="internal xref">Recommendations For Both QUIC-MP And SCION Implementations</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.6.2.4">
                <p id="section-toc.1-1.6.2.4.1"><a href="#section-6.4" class="auto internal xref">6.4</a>.  <a href="#name-other-recommendations" class="internal xref">Other Recommendations</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7">
            <p id="section-toc.1-1.7.1"><a href="#section-7" class="auto internal xref">7</a>.  <a href="#name-security-considerations" class="internal xref">Security Considerations</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1">
                <p id="section-toc.1-1.7.2.1.1"><a href="#section-7.1" class="auto internal xref">7.1</a>.  <a href="#name-ip-ambiguity" class="internal xref">IP Ambiguity</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.1.2.1">
                    <p id="section-toc.1-1.7.2.1.2.1.1"><a href="#section-7.1.1" class="auto internal xref">7.1.1</a>.  <a href="#name-mitigation" class="internal xref">Mitigation</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2">
                <p id="section-toc.1-1.7.2.2.1"><a href="#section-7.2" class="auto internal xref">7.2</a>.  <a href="#name-path-injection" class="internal xref">Path Injection</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.1">
                    <p id="section-toc.1-1.7.2.2.2.1.1"><a href="#section-7.2.1" class="auto internal xref">7.2.1</a>.  <a href="#name-traffic-redirection-over-di" class="internal xref">Traffic Redirection over Different Path</a></p>
</li>
                  <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.2.2.2">
                    <p id="section-toc.1-1.7.2.2.2.2.1"><a href="#section-7.2.2" class="auto internal xref">7.2.2</a>.  <a href="#name-traffic-amplification" class="internal xref">Traffic Amplification</a></p>
</li>
                </ul>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.3">
                <p id="section-toc.1-1.7.2.3.1"><a href="#section-7.3" class="auto internal xref">7.3</a>.  <a href="#name-memory-exhaustion" class="internal xref">Memory Exhaustion</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.4">
                <p id="section-toc.1-1.7.2.4.1"><a href="#section-7.4" class="auto internal xref">7.4</a>.  <a href="#name-number-of-open-paths" class="internal xref">Number of Open Paths</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.5">
                <p id="section-toc.1-1.7.2.5.1"><a href="#section-7.5" class="auto internal xref">7.5</a>.  <a href="#name-probe-fingerprinting" class="internal xref">Probe Fingerprinting</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.7.2.6">
                <p id="section-toc.1-1.7.2.6.1"><a href="#section-7.6" class="auto internal xref">7.6</a>.  <a href="#name-additional-points" class="internal xref">Additional Points</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.8">
            <p id="section-toc.1-1.8.1"><a href="#section-8" class="auto internal xref">8</a>.  <a href="#name-iana-considerations" class="internal xref">IANA Considerations</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9">
            <p id="section-toc.1-1.9.1"><a href="#section-9" class="auto internal xref">9</a>.  <a href="#name-references" class="internal xref">References</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.1">
                <p id="section-toc.1-1.9.2.1.1"><a href="#section-9.1" class="auto internal xref">9.1</a>.  <a href="#name-normative-references" class="internal xref">Normative References</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.9.2.2">
                <p id="section-toc.1-1.9.2.2.1"><a href="#section-9.2" class="auto internal xref">9.2</a>.  <a href="#name-informative-references" class="internal xref">Informative References</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.10">
            <p id="section-toc.1-1.10.1"><a href="#appendix-A" class="auto internal xref"></a><a href="#name-acknowledgments" class="internal xref">Acknowledgments</a></p>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11">
            <p id="section-toc.1-1.11.1"><a href="#appendix-B" class="auto internal xref"></a><a href="#name-change-log" class="internal xref">Change Log</a></p>
<ul class="compact toc ulBare ulEmpty">
<li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.1">
                <p id="section-toc.1-1.11.2.1.1"><a href="#appendix-B.1" class="auto internal xref"></a><a href="#name-draft-zaeschke-scion-quic-m" class="internal xref">draft-zaeschke-scion-quic-multipath-01</a></p>
</li>
              <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.11.2.2">
                <p id="section-toc.1-1.11.2.2.1"><a href="#appendix-B.2" class="auto internal xref"></a><a href="#name-draft-zaeschke-scion-quic-mu" class="internal xref">draft-zaeschke-scion-quic-multipath-00</a></p>
</li>
            </ul>
</li>
          <li class="compact toc ulBare ulEmpty" id="section-toc.1-1.12">
            <p id="section-toc.1-1.12.1"><a href="#appendix-C" class="auto internal xref"></a><a href="#name-authors-addresses" class="internal xref">Authors' Addresses</a></p>
</li>
        </ul>
</nav>
</section>
</div>
<div id="introduction">
<section id="section-1">
      <h2 id="name-introduction">
<a href="#section-1" class="section-number selfRef">1. </a><a href="#name-introduction" class="section-name selfRef">Introduction</a>
      </h2>
<p id="section-1-1">The Multipath Extension for QUIC <span>[<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>, is an extension for
the QUIC protocol that enables simultaneous usage of multiple
paths for a single QUIC connection.<a href="#section-1-1" class="pilcrow">¶</a></p>
<p id="section-1-2">SCION (<span>[<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span>, <span>[<a href="#SCION-DP" class="cite xref">SCION-DP</a>]</span>) is an inter-domain routing protocol
that offers explicit path selection between two endpoints,
typically from a large selection of paths, where paths have detailed
information on traversed autonomous systems (ASes), links, router
interfaces, and other information.<a href="#section-1-2" class="pilcrow">¶</a></p>
<p id="section-1-3">Despite their complementary goals, QUIC-MP and PANs have evolved
largely in isolation. QUIC-MP has been designed with traditional
IP-based routing in mind, where path changes are typically inferred
from endpoint address changes (i.e., 4-tuples), and where routing is
opaque to the transport layer.
In contrast, Path-Aware Networks (PANs), such as SCION, enable
informed path selection based on performance, disjointness,
policy, or security requirements.
This combination of QUIC-MP and SCION allows for optimizations, for
example, for congestion control, RTT estimation, failure recovery,
performance, and security.
However, the slightly different assumptions on endpoint addresses
(4-tuple + path ID vs 4-tuple + AS code + path) and path
lifecycles (path abandon vs expiry, etc.) can cause some pitfalls.<a href="#section-1-3" class="pilcrow">¶</a></p>
<p id="section-1-4">The purpose of this document is to explore how QUIC-MP and SCION
can interoperate, how we can leverage the path awareness offered
by SCION, and suggestions on how to overcome challenges.<a href="#section-1-4" class="pilcrow">¶</a></p>
<p id="section-1-5">This document
lists notable points when using QUIC-MP over SCION (<a href="#overview" class="auto internal xref">Section 3</a>),
looks at different usage scenarios (<a href="#categories" class="auto internal xref">Section 4</a>),
gives implementations considerations (<a href="#teccon" class="auto internal xref">Section 5</a>) for library
developers of SCION and QUIC-MP,
and discusses general security considerations
(<a href="#security-considerations" class="auto internal xref">Section 7</a>).<a href="#section-1-5" class="pilcrow">¶</a></p>
<p id="section-1-6">While we provide guidelines for these areas, we do not
discuss concrete algorithms, APIs, QUIC-MP or SCION implementations,
or QUIC-MP user applications; these are considered out of scope.<a href="#section-1-6" class="pilcrow">¶</a></p>
<p id="section-1-7">Some considerations are independent of multipathing and may be
directly applicable for using <span>[<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> over SCION.<a href="#section-1-7" class="pilcrow">¶</a></p>
</section>
</div>
<div id="terminology-and-conventions">
<section id="section-2">
      <h2 id="name-terminology-and-conventions">
<a href="#section-2" class="section-number selfRef">2. </a><a href="#name-terminology-and-conventions" class="section-name selfRef">Terminology and Conventions</a>
      </h2>
<p id="section-2-1">The key words "<span class="bcp14">MUST</span>", "<span class="bcp14">MUST NOT</span>", "<span class="bcp14">REQUIRED</span>", "<span class="bcp14">SHALL</span>", "<span class="bcp14">SHALL NOT</span>", "<span class="bcp14">SHOULD</span>", "<span class="bcp14">SHOULD NOT</span>", "<span class="bcp14">RECOMMENDED</span>", "<span class="bcp14">NOT RECOMMENDED</span>",
"<span class="bcp14">MAY</span>", and "<span class="bcp14">OPTIONAL</span>" in this document are to be interpreted as
described in BCP 14 <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span> <span>[<a href="#RFC8174" class="cite xref">RFC8174</a>]</span> when, and only when, they
appear in all capitals, as shown here.<a href="#section-2-1" class="pilcrow">¶</a></p>
<div id="terms">
<section id="section-2.1">
        <h3 id="name-terminology">
<a href="#section-2.1" class="section-number selfRef">2.1. </a><a href="#name-terminology" class="section-name selfRef">Terminology</a>
        </h3>
<p id="section-2.1-1">We assume that the reader is familiar with the terminology used in
<span>[<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> and <span>[<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>. We also draw on the terminology
of <span>[<a href="#PATH-VOCABULARY" class="cite xref">PATH-VOCABULARY</a>]</span> and of SCION (<span>[<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span> and <span>[<a href="#SCION-DP" class="cite xref">SCION-DP</a>]</span>).
For ease of reference, we have included some definitions here, but
refer the reader to the references above for complete specifications
of the relevant terminology.<a href="#section-2.1-1" class="pilcrow">¶</a></p>
<p id="section-2.1-2"><strong>Autonomous System (AS)</strong>: An autonomous system is a network under
common administrative control.  For example, the network of an
Internet service provider or organization can constitute an AS.<a href="#section-2.1-2" class="pilcrow">¶</a></p>
<p id="section-2.1-3"><strong>Endpoint</strong>: An endpoint is the start or end of a path,
as defined in <span>[<a href="#PATH-VOCABULARY" class="cite xref">PATH-VOCABULARY</a>]</span>.<a href="#section-2.1-3" class="pilcrow">¶</a></p>
<p id="section-2.1-4"><strong>Inter-AS Link</strong>: A direct link between two external interfaces of two
ASes.<a href="#section-2.1-4" class="pilcrow">¶</a></p>
<p id="section-2.1-5"><strong>Intra-AS Link</strong>: A direct link between two internal interfaces of
a single AS. A direct link may contain several internal hops.<a href="#section-2.1-5" class="pilcrow">¶</a></p>
<p id="section-2.1-6"><strong>Link</strong>: General term that refers to "inter-AS links" and "intra-AS
links".<a href="#section-2.1-6" class="pilcrow">¶</a></p>
<p id="section-2.1-7"><strong>Network Address</strong>:
In traditional IP networks, this refers to the tuple of address and
port of an endpoint.
In SCION, the network address consists of an <em>ISD-AS identifier</em> and
a <em>host address</em>, typically expressed as <code>[ISD-AS, Host]</code>.<a href="#section-2.1-7" class="pilcrow">¶</a></p>
<p id="section-2.1-8"><strong>Network Path</strong>: The network path is the sequence of network elements
between the two endpoints (e.g., ASes, interfaces, internal links).
In traditional IP networks, the network path is typically opaque to
the endpoints.<a href="#section-2.1-8" class="pilcrow">¶</a></p>
<p id="section-2.1-9"><strong>QUIC-MP Path</strong>: Consists of the network address at each
endpoint and a Path ID (see <span>[<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>). The Path ID allows having
multiple logical paths for the same set of network addresses.<a href="#section-2.1-9" class="pilcrow">¶</a></p>
<p id="section-2.1-10"><strong>Path Metadata</strong>: Path metadata is additional data that is available
to endpoints when they request a selection of paths to a destination.
Path metadata is authenticated by the owner of each link, but is
otherwise not verified. This data describes properties of
traversed ASes and links, such as their identity or MTU.<a href="#section-2.1-10" class="pilcrow">¶</a></p>
<p id="section-2.1-11"><strong>Metadata Extension</strong>:
SCION offers additional path metadata via extensions. The metadata
includes properties such as bandwidth and latency. The extension
is widely supported but not further discussed here as it is not specified
in <span>[<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span> or <span>[<a href="#SCION-DP" class="cite xref">SCION-DP</a>]</span>.<a href="#section-2.1-11" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="overview">
<section id="section-3">
      <h2 id="name-overview-of-quic-multipath-">
<a href="#section-3" class="section-number selfRef">3. </a><a href="#name-overview-of-quic-multipath-" class="section-name selfRef">Overview of QUIC Multipath in Path-Aware Networks</a>
      </h2>
<p id="section-3-1">The Multipath Extension for QUIC (QUIC-MP) is primarily designed for
traditional IP networks, where each path is identified by a 4-tuple of
local and remote IP addresses and ports.
Routing is considered opaque to endpoints, and path changes are inferred
indirectly through changes in the 4-tuple. However, the
path between two endpoints may change unpredictably due to routing
dynamics, which is not captured by the 4-tuple.<a href="#section-3-1" class="pilcrow">¶</a></p>
<p id="section-3-2">In SCION, endpoints can discover and select explicit network paths,
which are described at the level of ASes and inter-AS links, and have
associated metadata, such as the MTU.<a href="#section-3-2" class="pilcrow">¶</a></p>
<p id="section-3-3">The different underlying assumptions of QUIC-MP and SCION result in
some mismatches, for instance:<a href="#section-3-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-4.1">
          <p id="section-3-4.1.1"><strong>Endpoint Ambiguity</strong>: PANs such as SCION use composite addresses
(e.g., ISD-AS + Host), where the host can be an IP address from a
private IP range. This breaks the assumption that IP addresses
are unique in the current network.<a href="#section-3-4.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-4.2">
          <p id="section-3-4.2.1"><strong>Path Identity Mismatch</strong>: In QUIC-MP, paths are distinguished by
4-tuples and Path IDs. In SCION, two distinct physical paths may share
the same 4-tuple, rendering transport-layer path tracking incomplete.<a href="#section-3-4.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-4.3">
          <p id="section-3-4.3.1"><strong>Routing and Path Lifecycle</strong>: Paths in SCION can expire, be revoked,
or be reissued, even when 4-tuple information is unchanged.
This can interfere with RTT estimation, congestion control, and path
validation logic if not properly accounted for.<a href="#section-3-4.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<p id="section-3-5">However, SCION also opens up opportunities for enhancing
multipath transport:<a href="#section-3-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-3-6.1">
          <p id="section-3-6.1.1"><strong>Explicit path selection</strong> enables endpoints to choose disjoint
paths, i.e., paths that do not share links or segments, to improve
fault tolerance against link failures, or to increase aggregate
throughput.<a href="#section-3-6.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-6.2">
          <p id="section-3-6.2.1"><strong>Path metadata</strong> allows endpoints to prioritize paths with more
suitable properties. For instance, low-latency and low-hop-count
paths can be prioritized for RTT measurements, avoiding wasting
resources on probing paths with poorer characteristics. Or, path
overlap or disjointness can easily be determined and used for
congestion control.<a href="#section-3-6.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-6.3">
          <p id="section-3-6.3.1"><strong>Path-awareness</strong> allows congestion control and RTT
estimators to reset only when the underlying network path has actually
changed, something not reliably detectable in traditional IP networks,
where network path changes may occur due to routing, despite a
constant 4-tuple.<a href="#section-3-6.3.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-3-6.4">
          <p id="section-3-6.4.1">The availability of <strong>stable network paths</strong> in PANs allows the
transport layer to distinguish between actual path changes and
transient network conditions, enabling more accurate RTT estimation
and congestion control.<a href="#section-3-6.4.1" class="pilcrow">¶</a></p>
</li>
      </ul>
</section>
</div>
<div id="categories">
<section id="section-4">
      <h2 id="name-multipath-use-cases-and-cat">
<a href="#section-4" class="section-number selfRef">4. </a><a href="#name-multipath-use-cases-and-cat" class="section-name selfRef">Multipath Use Cases and Categorization</a>
      </h2>
<p id="section-4-1">This section categorizes common use cases for multipath transport and
highlights how PANs enhance each scenario. Many of these use cases can
be combined to meet complex application requirements.<a href="#section-4-1" class="pilcrow">¶</a></p>
<div id="fault-tolerance-and-availability">
<section id="section-4.1">
        <h3 id="name-fault-tolerance-and-availab">
<a href="#section-4.1" class="section-number selfRef">4.1. </a><a href="#name-fault-tolerance-and-availab" class="section-name selfRef">Fault Tolerance and Availability</a>
        </h3>
<p id="section-4.1-1">Multipath transport can improve robustness against network failures in
several ways:<a href="#section-4.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.1-2.1">
            <p id="section-4.1-2.1.1">An endpoint can immediately send data over a predetermined backup
path if it suspects or obtains a network notification that a primary
path is faulty.<a href="#section-4.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.2">
            <p id="section-4.1-2.2.1">In SCION, the network may send error messages that explicitly specify
the faulty link. This allows selecting a backup path that circumvents
the faulty link.<a href="#section-4.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.1-2.3">
            <p id="section-4.1-2.3.1">By sending redundant traffic over multiple paths, an application can
maintain continuity even if one path becomes unavailable.<a href="#section-4.1-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-4.1-3">The use of backup paths or paths for redundant sending can be further
improved by analyzing paths for overlap and selecting disjoint paths.
This reduces the likelihood of multiple paths failing simultaneously.<a href="#section-4.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="high-throughput">
<section id="section-4.2">
        <h3 id="name-high-throughput">
<a href="#section-4.2" class="section-number selfRef">4.2. </a><a href="#name-high-throughput" class="section-name selfRef">High Throughput</a>
        </h3>
<p id="section-4.2-1">An application may aim to maximize the available bandwidth by spreading
traffic across multiple paths.
To optimize this, an application may:<a href="#section-4.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-4.2-2.1">
            <p id="section-4.2-2.1.1">Select multiple paths with maximum disjointness.<a href="#section-4.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-2.2">
            <p id="section-4.2-2.2.1">Select multiple paths such that disjointness is limited to
sub-paths that are expected to have high bandwidth available.<a href="#section-4.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-4.2-2.3">
            <p id="section-4.2-2.3.1">When congestion is detected, switch over entirely, or shift
parts of traffic to an underutilized disjoint path to preserve the
throughput.<a href="#section-4.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="low-latency">
<section id="section-4.3">
        <h3 id="name-low-latency">
<a href="#section-4.3" class="section-number selfRef">4.3. </a><a href="#name-low-latency" class="section-name selfRef">Low Latency</a>
        </h3>
<p id="section-4.3-1">Latency-sensitive applications benefit from selecting the fastest
available path at any moment. In PANs, endpoints may estimate latency
from explicit metadata or infer it from probing. Because in PANs paths
are stable and explicitly selectable, the transport layer can maintain
multiple low-latency options in parallel, and either transmit in
parallel, or switch traffic to a different path once the latency
starts to fluctuate.<a href="#section-4.3-1" class="pilcrow">¶</a></p>
<p id="section-4.3-2">Latency may be determined by RTT estimation, see <a href="#rtt" class="auto internal xref">Section 5.5</a>.<a href="#section-4.3-2" class="pilcrow">¶</a></p>
<p id="section-4.3-3">For deadline sensitive applications, an algorithm as described in
<span>[<a href="#DMTP" class="cite xref">DMTP</a>]</span> may be useful.<a href="#section-4.3-3" class="pilcrow">¶</a></p>
<p id="section-4.3-4">Instead of probing many paths at once, an implementation
should probe only the most promising paths (based on the metadata).
Probing many paths should also be avoided to avoid overloading
individual links, and it may effectively be limited (except traceroute)
by the available path IDs and connection IDs, see
<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-7.2" class="relref">Section 7.2</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-4.3-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="policy-driven-routing-and-routing-constraints">
<section id="section-4.4">
        <h3 id="name-policy-driven-routing-and-r">
<a href="#section-4.4" class="section-number selfRef">4.4. </a><a href="#name-policy-driven-routing-and-r" class="section-name selfRef">Policy-Driven Routing and Routing Constraints</a>
        </h3>
<p id="section-4.4-1">Some applications or deployments may wish to avoid routing traffic
through certain ASes, e.g. to ensure path diversity or to enforce
routing policies. SCION enables this by
making path selection explicit and verifiable.<a href="#section-4.4-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="anonymity-and-traffic-obfuscation">
<section id="section-4.5">
        <h3 id="name-anonymity-and-traffic-obfus">
<a href="#section-4.5" class="section-number selfRef">4.5. </a><a href="#name-anonymity-and-traffic-obfus" class="section-name selfRef">Anonymity and Traffic Obfuscation</a>
        </h3>
<p id="section-4.5-1">Multipath transport can be used to reduce the observability of traffic
by distributing it across multiple network paths. In PANs, endpoints
can explicitly select disjoint paths to minimize the risk that a single
AS observes the full traffic flow.<a href="#section-4.5-1" class="pilcrow">¶</a></p>
<p id="section-4.5-2">Randomizing path selection and packet scheduling can help obscure
traffic patterns. However, traffic characteristics such as packet
timing, flow duration, or volume may still be linkable across paths.
Mechanisms such as probing should therefore be designed and used such
that it avoids creating identifiable patterns.<a href="#section-4.5-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sig">
<section id="section-4.6">
        <h3 id="name-gateways-and-proxies">
<a href="#section-4.6" class="section-number selfRef">4.6. </a><a href="#name-gateways-and-proxies" class="section-name selfRef">Gateways and Proxies</a>
        </h3>
<p id="section-4.6-1">There are gateways and proxies (including VPN) that translate
SCION traffic to IP traffic and back.
These are a special case because they are not used together with a
QUIC(-MP) implementation, instead they are, and should be, oblivious
to QUIC traffic.<a href="#section-4.6-1" class="pilcrow">¶</a></p>
<p id="section-4.6-2"><strong>TODO</strong>
These, along with NATs, will be discussed in a future version of this
document.<a href="#section-4.6-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="teccon">
<section id="section-5">
      <h2 id="name-technical-considerations">
<a href="#section-5" class="section-number selfRef">5. </a><a href="#name-technical-considerations" class="section-name selfRef">Technical Considerations</a>
      </h2>
<p id="section-5-1">Using QUIC or QUIC-MP over a PAN, such as SCION, changes some of the
underlying assumptions. This provides certain benefits, such as
additional information and control over paths, but also some challenges.<a href="#section-5-1" class="pilcrow">¶</a></p>
<div id="endpoint-identity">
<section id="section-5.1">
        <h3 id="name-addressing">
<a href="#section-5.1" class="section-number selfRef">5.1. </a><a href="#name-addressing" class="section-name selfRef">Addressing</a>
        </h3>
<p id="section-5.1-1">SCION uses composite addresses (ISD/AS + IP + port), where the IP
address can be from a private IP range. This breaks the assumption
that IP addresses are unique in the scope of the network.<a href="#section-5.1-1" class="pilcrow">¶</a></p>
<div id="key-implications">
<section id="section-5.1.1">
          <h4 id="name-key-implications">
<a href="#section-5.1.1" class="section-number selfRef">5.1.1. </a><a href="#name-key-implications" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.1.1-1">QUIC-MP relies on the 4-tuple changes to trigger path validation.
However, with SCION, the 4-tuple does not uniquely identify an endpoint.
Two endpoints with identical IP/port could be in different ASes.
An attacker could use endpoints with identical 4-tuple to reroute traffic
to a different machine without triggering path validation, see
<a href="#attack-path-injection" class="auto internal xref">Section 7.2</a> and <a href="#token" class="auto internal xref">Section 5.11</a>.<a href="#section-5.1.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.1-2">The implication of a skipped path validation is that a sever can be coaxed into
sending QUIC packets to an unexpecting client. This is similar to the attacks
described in <span><a href="https://rfc-editor.org/rfc/rfc9000#section-8" class="relref">Section 8</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> and
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-21.5.4" class="relref">Section 21.5.4</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-5.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations">
<section id="section-5.1.2">
          <h4 id="name-recommendations">
<a href="#section-5.1.2" class="section-number selfRef">5.1.2. </a><a href="#name-recommendations" class="section-name selfRef">Recommendations</a>
          </h4>
<p id="section-5.1.2-1">Attacks can be prevented by ensuring that one of the following is achieved:<a href="#section-5.1.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2-2.1">
              <p id="section-5.1.2-2.1.1">Prevent the attacker from exploiting a skipped path validation.<a href="#section-5.1.2-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.1.2-2.2">
              <p id="section-5.1.2-2.2.1">Ensure that path validation is not skipped.<a href="#section-5.1.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<div id="avoid-exploitation-of-skipped-path-validation">
<section id="section-5.1.2.1">
            <h5 id="name-avoid-exploitation-of-skipp">
<a href="#section-5.1.2.1" class="section-number selfRef">5.1.2.1. </a><a href="#name-avoid-exploitation-of-skipp" class="section-name selfRef">Avoid Exploitation Of Skipped Path Validation</a>
            </h5>
<p id="section-5.1.2.1-1">In order to exploit a skipped path validation event, an attacker must
first inject an incorrect path or SCION source address into the server.
This can be prevented as follows:<a href="#section-5.1.2.1-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2.1-2">1) Border routers must verify that any packet whose path indicates origin
   outside of the local AS, the underlay IP must match a known border router
   IP.
2) Border routers must verify that for any packet that originates in the
   local AS, the underlay IP matches the SCION SRC IP.
3) SCION server libraries must respond to the underlay IP from which a
   request was received.<a href="#section-5.1.2.1-2" class="pilcrow">¶</a></p>
<p id="section-5.1.2.1-3">These measures ensure that every packet has a correct SCION SRC IP and path.
The only way to circumvent these checks is by spoofing the IP address in a
local AS or by taking control over a border router of an AS along the route
between two peers.<a href="#section-5.1.2.1-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="ensure-that-path-validation-is-performed">
<section id="section-5.1.2.2">
            <h5 id="name-ensure-that-path-validation">
<a href="#section-5.1.2.2" class="section-number selfRef">5.1.2.2. </a><a href="#name-ensure-that-path-validation" class="section-name selfRef">Ensure That Path Validation Is Performed</a>
            </h5>
<p id="section-5.1.2.2-1">Implementations should ensure that path validation is triggered when
the network address of the destination changes; this includes
IP, port and AS number. This protects against several attacks, see
<a href="#attack-path-injection" class="auto internal xref">Section 7.2</a> and especially <a href="#attack-amplification" class="auto internal xref">Section 7.2.2</a>.<a href="#section-5.1.2.2-1" class="pilcrow">¶</a></p>
<p id="section-5.1.2.2-2">There are several ways to achieve this, for example:<a href="#section-5.1.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2.2-3.1">
                <p id="section-5.1.2.2-3.1.1">Adapt the QUIC-MP library to be aware of the AS number in SCION
network addresses.<a href="#section-5.1.2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1.2.2-3.2">
                <p id="section-5.1.2.2-3.2.1">If the network address is available as a single "object",
the SCION layer can extend this with the AS code and the
QUIC-MP implementation must only ensure to compare the whole
object instead of port and IP separately.<a href="#section-5.1.2.2-3.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-5.1.2.2-3.3">
                <p id="section-5.1.2.2-3.3.1">The SCION implementation could detect cases where only the AS
changes and then mangle the port or IP to trigger a path validation
in the QUIC-MP layer. This may be a pragmatic solution but is
discouraged because:<a href="#section-5.1.2.2-3.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.1.2.2-3.3.2.1">
                    <p id="section-5.1.2.2-3.3.2.1.1">Managing paths in the SCION layer is not trivial because it requires
synchronizing the lifecycle of SCION paths and QUIC-MP paths, e.g.,
knowing when is a path valid or when is it closed in QUIC-MP.<a href="#section-5.1.2.2-3.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-5.1.2.2-3.3.2.2">
                    <p id="section-5.1.2.2-3.3.2.2.1">It creates opportunities for memory exhaustion attacks
(for storing the mapping of mangled IP/port).<a href="#section-5.1.2.2-3.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-5.1.2.2-3.3.2.3">
                    <p id="section-5.1.2.2-3.3.2.3.1">It reports a wrong IP/port to the application.<a href="#section-5.1.2.2-3.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="pathid">
<section id="section-5.2">
        <h3 id="name-interoperability-of-quic-mp">
<a href="#section-5.2" class="section-number selfRef">5.2. </a><a href="#name-interoperability-of-quic-mp" class="section-name selfRef">Interoperability of QUIC-MP Path ID and Network Paths</a>
        </h3>
<p id="section-5.2-1">The identification of "paths" varies between QUIC, QUIC-MP and SCION.<a href="#section-5.2-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-2.1">
            <p id="section-5.2-2.1.1"><span>[<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> uses a 4-tuple of local/remote IP/port to
distinguish paths.<a href="#section-5.2-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-2.2">
            <p id="section-5.2-2.2.1"><span>[<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> extends the 4-tuple with a path ID to distinguish
logical paths (connections).<a href="#section-5.2-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-2.3">
            <p id="section-5.2-2.3.1">SCION can distinguish paths based on the physical inter-domain
network path and additional properties, such as an expiration
time (the latter may or may not be used to distinguish path
instances).<a href="#section-5.2-2.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-5.2-3">A path change occurs when at least one of the router interfaces
changes. The network address may stay the same.<a href="#section-5.2-3" class="pilcrow">¶</a></p>
<p id="section-5.2-4">With NAT rebinding, as described in <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.2" class="relref">Section 5.2</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>,
the path can change, but not without changing the SCION network
address (IP, port, AS), so this case is not a concern.<a href="#section-5.2-4" class="pilcrow">¶</a></p>
<p id="section-5.2-5">Path change detection is required to trigger certain actions,
such as resetting congestion control or RTT estimation algorithms.
See also <a href="#concon" class="auto internal xref">Section 5.4</a> and <a href="#rtt" class="auto internal xref">Section 5.5</a>.
When using a PAN such as SCION, it is important to trigger these
actions even if the full network address (4-tuple + AS) stays the same.<a href="#section-5.2-5" class="pilcrow">¶</a></p>
<p id="section-5.2-6">Alternatively, the system can be implemented in a way so that
uncontrolled path changes cannot occur.
This is possible because path changes can only be initiated by
endpoints. However, this has some limitation if one of the
endpoints is not aware of transporting QUIC, for example a SCION
gateway or proxy, see <a href="#sig" class="auto internal xref">Section 4.6</a>.<a href="#section-5.2-6" class="pilcrow">¶</a></p>
<p id="section-5.2-7">Implementations should try to maintain a 1:1 mapping between QUIC-MP
path IDs and SCION network paths.
However, this is not always possible or useful:<a href="#section-5.2-7" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2-8.1">
            <p id="section-5.2-8.1.1">A SCION network path may expire. Replacing a path with an
identical new path (except for the expiration date), should be allowed
without triggering algorithm reset. Alternatively, refresh
can be handled by the path selector, see <a href="#patsel" class="auto internal xref">Section 5.9</a>.<a href="#section-5.2-8.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-8.2">
            <p id="section-5.2-8.2.1">A SCION implementation, when used with QUIC-MP should be configured
such that every SCION network path is used for exactly one QUIC-MP
path ID.
However, it may not always be possible or feasible to configure SCION
implementations in this way, for example. when they are part of a SCION
gateway or proxy, and are unaware of transporting QUIC, see <a href="#sig" class="auto internal xref">Section 4.6</a>.<a href="#section-5.2-8.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.2-8.3">
            <p id="section-5.2-8.3.1">A SCION path should be allowed to be reused, e.g., they may be assigned
to one QUIC path ID, and when that path ID is closed, the path
must be allowed to be assigned to another path ID.
This should not cause any problems except for the
marginal complexity of managing the associated state with a path ID.<a href="#section-5.2-8.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<div id="key-implications-1">
<section id="section-5.2.1">
          <h4 id="name-key-implications-2">
<a href="#section-5.2.1" class="section-number selfRef">5.2.1. </a><a href="#name-key-implications-2" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.2.1-1">If a path change occurs undetected, the QUIC-MP layer cannot
reset congestion control (<a href="#concon" class="auto internal xref">Section 5.4</a>) or RTT estimation (<a href="#rtt" class="auto internal xref">Section 5.5</a>).
This is undesirable but not worse than traditional IP based non-PAN
transport where routes can change without the endpoints learning about
it.<a href="#section-5.2.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-1">
<section id="section-5.2.2">
          <h4 id="name-recommendations-2">
<a href="#section-5.2.2" class="section-number selfRef">5.2.2. </a><a href="#name-recommendations-2" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.2.2-1.1">
              <p id="section-5.2.2-1.1.1">Congestion control and RTT estimation algorithms should be
designed to gracefully handle path changes that don't trigger a
reset, unless it can be guaranteed that both SCION endpoints are
configured to prevent automatic path changes.<a href="#section-5.2.2-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-1.2">
              <p id="section-5.2.2-1.2.1">Within a QUIC-MP session, every SCION network path should be used only
with one path ID. However, it may be reused if the path was abandoned
or closed.<a href="#section-5.2.2-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-1.3">
              <p id="section-5.2.2-1.3.1">Changes of the network path (while the network address stays the
same), except for expired paths being renewed, should trigger
algorithm reset (CC, RTT estimate), see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.1" class="relref">Section 5.1</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.2.2-1.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.2.2-2">Analogous to <a href="#endpoint-identity" class="auto internal xref">Section 5.1</a>, except for replacing "AS" with
"network path". We list them here again because the implications
of not following the recommendation are much weaker and may be
considered acceptable. Recommendations:<a href="#section-5.2.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-3.1">
              <p id="section-5.2.2-3.1.1">Adapt the QUIC-MP library to be aware of the full network path,
including router interfaces.<a href="#section-5.2.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.2">
              <p id="section-5.2.2-3.2.1">If the network address is available as a single "object",
the SCION layer can extend this with the network path (possibly
excluding the expiration date), and the
QUIC-MP implementation must only ensure to compare the whole
object instead of port and IP separately.<a href="#section-5.2.2-3.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.2.2-3.3">
              <p id="section-5.2.2-3.3.1">The SCION implementation could detect cases where only the router
interfaces
change and then mangle the port or IP to trigger a path validation
in the QUIC-MP layer. This may be a pragmatic solution but is
discouraged, because:<a href="#section-5.2.2-3.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.2.2-3.3.2.1">
                  <p id="section-5.2.2-3.3.2.1.1">Managing paths in the SCION layer is not trivial because it requires
synchronizing the lifecycle of SCION paths and QUIC-MP paths, e.g.,
knowing when is a path valid or when is it closed in QUIC-MP.<a href="#section-5.2.2-3.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-5.2.2-3.3.2.2">
                  <p id="section-5.2.2-3.3.2.2.1">It creates opportunities for memory exhaustion attacks
(for storing the mapping of mangled IP/port).<a href="#section-5.2.2-3.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                <li class="normal" id="section-5.2.2-3.3.2.3">
                  <p id="section-5.2.2-3.3.2.3.1">It reports a wrong IP/port to the application.<a href="#section-5.2.2-3.3.2.3.1" class="pilcrow">¶</a></p>
</li>
              </ul>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="handshake">
<section id="section-5.3">
        <h3 id="name-initial-handshake">
<a href="#section-5.3" class="section-number selfRef">5.3. </a><a href="#name-initial-handshake" class="section-name selfRef">Initial Handshake</a>
        </h3>
<p id="section-5.3-1"><span>[<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> requires that there is no connection migration
during the initial handshake, and that there are no other packets
sent (including probing packets) during the initial handshake, see
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>, paragraphs 2 and 3.<a href="#section-5.3-1" class="pilcrow">¶</a></p>
<div id="key-implications-2">
<section id="section-5.3.1">
          <h4 id="name-key-implications-3">
<a href="#section-5.3.1" class="section-number selfRef">5.3.1. </a><a href="#name-key-implications-3" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.3.1-1">Changing the path during handshake would violate
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>:<a href="#section-5.3.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.3.1-2.1">
              <p id="section-5.3.1-2.1.1">The design of QUIC relies on endpoints retaining a stable address
for the duration of the handshake. An endpoint <span class="bcp14">MUST NOT</span> initiate
connection migration before the handshake is confirmed, as defined in
<span><a href="https://rfc-editor.org/rfc/rfc9001#section-4.1.2" class="relref">Section 4.1.2</a> of [<a href="#QUIC-TLS" class="cite xref">QUIC-TLS</a>]</span>.<a href="#section-5.3.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="recommendations-2">
<section id="section-5.3.2">
          <h4 id="name-recommendations-3">
<a href="#section-5.3.2" class="section-number selfRef">5.3.2. </a><a href="#name-recommendations-3" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.3.2-1.1">
              <p id="section-5.3.2-1.1.1">A SCION implementation should not automatically change network
paths switch without explicit request by the QUIC(-MP) layer.
The only exception allowed is replacing an expiring path with
a new path that is identical except for the expiration time.
We also need to ensure this for gateways etc., see <a href="#sig" class="auto internal xref">Section 4.6</a>.<a href="#section-5.3.2-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="concon">
<section id="section-5.4">
        <h3 id="name-congestion-control">
<a href="#section-5.4" class="section-number selfRef">5.4. </a><a href="#name-congestion-control" class="section-name selfRef">Congestion Control</a>
        </h3>
<p id="section-5.4-1">Following <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.1" class="relref">Section 5.1</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>, the CC algorithm should be reset
when the 4-tuple of a QUIC path changes. With SCION, 4-tuples are not
sufficient to identify paths, see <a href="#pathid" class="auto internal xref">Section 5.2</a>.<a href="#section-5.4-1" class="pilcrow">¶</a></p>
<p id="section-5.4-2">To avoid missing a path change, the SCION implementation should never
change a network path unless explicitly instructed by the QUIC-MP
implementation, see <a href="#recommendations" class="auto internal xref">Section 5.1.2</a>.<a href="#section-5.4-2" class="pilcrow">¶</a></p>
<div id="coupled-congestion-control">
<section id="section-5.4.1">
          <h4 id="name-coupled-congestion-control">
<a href="#section-5.4.1" class="section-number selfRef">5.4.1. </a><a href="#name-coupled-congestion-control" class="section-name selfRef">Coupled Congestion Control</a>
          </h4>
<p id="section-5.4.1-1"><span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.3" class="relref">Section 5.3</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> mentions coupled congestion control
algorithms, such as <span>[<a href="#CC-MULTIPATH-TCP" class="cite xref">CC-MULTIPATH-TCP</a>]</span>. <span>[<a href="#CC-MULTIPATH-TCP" class="cite xref">CC-MULTIPATH-TCP</a>]</span> states:<a href="#section-5.4.1-1" class="pilcrow">¶</a></p>
<ul class="normal ulEmpty">
<li class="normal ulEmpty" id="section-5.4.1-2.1">
              <p id="section-5.4.1-2.1.1">One of the prominent
   problems is that running existing algorithms such as standard TCP
   independently on each path would give the multipath flow more than
   its fair share at a bottleneck link traversed by more than one of its
   subflows.<a href="#section-5.4.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.4.1-3">This can be avoided in PANs, such as SCION, through link-level analysis
of paths and selecting paths that do not share a bottleneck link.
Instead, this bottleneck knowledge can be used to effectively use
separate congestion control for each path.
Alternatively, a CC algorithm could be employed that focuses
on known shared links (which may be bottlenecks).<a href="#section-5.4.1-3" class="pilcrow">¶</a></p>
<p id="section-5.4.1-4">There are several congestion control algorithms proposed in literature,
e.g., LIA, OLIA, BALIA and RSF.  These combine congestion control with
path selection algorithms.
For simplicity, we suggest separating concerns in terms of
congestion control and path selection. This allows us to better
tailor the solutions to the different usage scenarios.<a href="#section-5.4.1-4" class="pilcrow">¶</a></p>
<p id="section-5.4.1-5">The proposition is to use non-coupled congestion control per path,
tailored for each use case in <a href="#categories" class="auto internal xref">Section 4</a>, and use separate
independent path selection algorithms.<a href="#section-5.4.1-5" class="pilcrow">¶</a></p>
<p id="section-5.4.1-6">CC algorithms can also benefit from the SCION metadata extension that
provides bandwidth and latency data for each link on a
network path.<a href="#section-5.4.1-6" class="pilcrow">¶</a></p>
</section>
</div>
<div id="key-implications-3">
<section id="section-5.4.2">
          <h4 id="name-key-implications-4">
<a href="#section-5.4.2" class="section-number selfRef">5.4.2. </a><a href="#name-key-implications-4" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.4.2-1">A network path change goes unnoticed in case
a SCION implementation changes a path that happens to have the same
IP/port for both endpoints.<a href="#section-5.4.2-1" class="pilcrow">¶</a></p>
<p id="section-5.4.2-2">Congestion control (CC) algorithms can also benefit from exact knowledge
of a path:<a href="#section-5.4.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.2-3.1">
              <p id="section-5.4.2-3.1.1">When using multiple paths, a CC algorithm can access path metadata
as to if and where the paths overlap and some of the properties of the
overlapping sections.<a href="#section-5.4.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.4.2-3.2">
              <p id="section-5.4.2-3.2.1">CC algorithms should be notified of every path change, allowing them
to reset only when necessary. A reset may not be necessary if the
network path remains the same and only the IP or port of an endpoint
changes. This can make sense if any congestion is assumed to be on the
network path rather than behind the remote IP/port (e.g., behind a proxy).<a href="#section-5.4.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.4.2-4">See also <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.3" class="relref">Section 5.3</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.4.2-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-3">
<section id="section-5.4.3">
          <h4 id="name-recommendations-4">
<a href="#section-5.4.3" class="section-number selfRef">5.4.3. </a><a href="#name-recommendations-4" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.4.3-1.1">
              <p id="section-5.4.3-1.1.1">Congestion control algorithms should be reset when the network path
changes (beyond 4-tuple). This is best achieved by ensuring that
the network path changes only in conjunction with QUIC path migration
events.<a href="#section-5.4.3-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.4.3-2">Congestion control algorithms can also benefit from exact
knowledge of a network path:<a href="#section-5.4.3-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.4.3-3.1">
              <p id="section-5.4.3-3.1.1">Congestion control algorithms should use the path metadata to
detect and, if necessary and possible, avoid overlap with
other paths. Congestion control can then be simplified to work
independently for each path.<a href="#section-5.4.3-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.4.3-3.2">
              <p id="section-5.4.3-3.2.1">Path selection algorithms should try to avoid multiple path
that share bottleneck links.<a href="#section-5.4.3-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="rtt">
<section id="section-5.5">
        <h3 id="name-rtt-estimation">
<a href="#section-5.5" class="section-number selfRef">5.5. </a><a href="#name-rtt-estimation" class="section-name selfRef">RTT Estimation</a>
        </h3>
<p id="section-5.5-1">Similarly to congestion control, and following
<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.1" class="relref">Section 5.1</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>, the RTT estimation algorithm should be
reset when the 4-tuple of a QUIC path changes.
As described in <a href="#concon" class="auto internal xref">Section 5.4</a> this can be avoided
by forbidding SCION implementations to change a network path unless
instructed otherwise by the QUIC-MP implementation.<a href="#section-5.5-1" class="pilcrow">¶</a></p>
<div id="key-implications-4">
<section id="section-5.5.1">
          <h4 id="name-key-implications-5">
<a href="#section-5.5.1" class="section-number selfRef">5.5.1. </a><a href="#name-key-implications-5" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.5.1-1">If a path change occurs undetected, the QUIC-MP layer may fail to
reset RTT estimation.
This is undesirable but not worse than traditional IP based non-PAN
transport where routes can change without the endpoints ever
learning about it.<a href="#section-5.5.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-4">
<section id="section-5.5.2">
          <h4 id="name-recommendations-5">
<a href="#section-5.5.2" class="section-number selfRef">5.5.2. </a><a href="#name-recommendations-5" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.5.2-1.1">
              <p id="section-5.5.2-1.1.1">RTT-algorithms should be reset when the network path
changes (beyond 4-tuple). This is best achieved by ensuring that
the network path changes only when requested by QUIC.<a href="#section-5.5.2-1.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.5.2-2">Round-trip time estimation algorithms can also benefit from exact
knowledge of a path:<a href="#section-5.5.2-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.5.2-3.1">
              <p id="section-5.5.2-3.1.1">An implementation may use SCION's SCMP traceroute
(<span><a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09#section-6" class="relref">Section 6</a> of [<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span>) to measure the latency of individual
links and then use this information to select new network paths
that favor low latency links and avoid high latency links. See also
<a href="#bottleneck" class="auto internal xref">Section 5.9.2</a>.<a href="#section-5.5.2-3.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.5.2-3.2">
              <p id="section-5.5.2-3.2.1">An implementation could use the SCION metadata extension to
get propagation latency information of links in a path without
having to measure it.
This latency does not include queueing latency but may in
many cases be sufficient for practical use.<a href="#section-5.5.2-3.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="mtu">
<section id="section-5.6">
        <h3 id="name-mtu-discovery">
<a href="#section-5.6" class="section-number selfRef">5.6. </a><a href="#name-mtu-discovery" class="section-name selfRef">MTU Discovery</a>
        </h3>
<p id="section-5.6-1">The MTU may be used to calculate the available payload size.
SCION inserts an additional header (<span><a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-dataplane-06#section-2" class="relref">Section 2</a> of [<a href="#SCION-DP" class="cite xref">SCION-DP</a>]</span>) into
each packet. The header size depends on the IP family (e.g., IPv4 vs
IPv6 addresses) and on the "length" of the path, i.e., the number of
ASes that are traversed. This must be taken into account when
calculating the available payload size.<a href="#section-5.6-1" class="pilcrow">¶</a></p>
<p id="section-5.6-2">The difference between typical MTU (1500 bytes) and QUIC's required packet
size (1200 bytes) is sufficient for typical real-world SCION headers.<a href="#section-5.6-2" class="pilcrow">¶</a></p>
<p id="section-5.6-3">PMTU discovery (<span><a href="https://rfc-editor.org/rfc/rfc9000#section-14.3" class="relref">Section 14.3</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>, <span>[<a href="#MTU-DISCOVERY" class="cite xref">MTU-DISCOVERY</a>]</span>)
can be used to discover or verify MTU sizes.
However, the MTU from the path metadata can (at least on the client
side) be used to preselect paths with desirable MTU values.<a href="#section-5.6-3" class="pilcrow">¶</a></p>
<p id="section-5.6-4">In SCION, when an endpoint requests a network path, it will be
provided with MTU information for every hop on a path, see also <a href="#mtu" class="auto internal xref">Section 5.6</a>
and <span><a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09#section-4.4" class="relref">Section 4.4</a> of [<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span>. However, in SCION, paths are
typically only requested by client endpoints, not by server endpoints.<a href="#section-5.6-4" class="pilcrow">¶</a></p>
<p id="section-5.6-5">There are several ways for a server to determine the MTU.
If a server wants to know the MTU, it may:<a href="#section-5.6-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.6-6.1">
            <p id="section-5.6-6.1.1">Try to determine the MTU from the size of incoming packets.<a href="#section-5.6-6.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.6-6.2">
            <p id="section-5.6-6.2.1">Use an algorithm to determine the MTU, see Path MTU Discovery in
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-14.3" class="relref">Section 14.3</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> and <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.8" class="relref">Section 5.8</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.6-6.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.6-6.3">
            <p id="section-5.6-6.3.1">Try to look up the path to the client endpoint that is identical to
the incoming path. However, this requires time
and effort on the server side, and there is no guarantee that
the incoming path is available in the local AS.<a href="#section-5.6-6.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-5.6-7">Also, note that the MTU information is authenticated but not verified,
it may be incorrect due to misconfiguration or malicious ASes.<a href="#section-5.6-7" class="pilcrow">¶</a></p>
<div id="key-implications-and-recommendations">
<section id="section-5.6.1">
          <h4 id="name-key-implications-and-recomm">
<a href="#section-5.6.1" class="section-number selfRef">5.6.1. </a><a href="#name-key-implications-and-recomm" class="section-name selfRef">Key Implications and Recommendations</a>
          </h4>
<p id="section-5.6.1-1">PMTU discovery for multi-path may be improved by using path metadata.
PMTU will be explored more in detail in a future version of this
document (<strong>TODO</strong>)).<a href="#section-5.6.1-1" class="pilcrow">¶</a></p>
<p id="section-5.6.1-2">It may be possible for a client to send the PMTU size directly to a
server, for example as a parameter via the QUIC Transport Parameter
Extension, see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-18" class="relref">Section 18</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> and
<span><a href="https://rfc-editor.org/rfc/rfc9001#section-8.2" class="relref">Section 8.2</a> of [<a href="#QUIC-TLS" class="cite xref">QUIC-TLS</a>]</span>.<a href="#section-5.6.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="retransmission">
<section id="section-5.7">
        <h3 id="name-retransmission-pto">
<a href="#section-5.7" class="section-number selfRef">5.7. </a><a href="#name-retransmission-pto" class="section-name selfRef">Retransmission &amp; PTO</a>
        </h3>
<p id="section-5.7-1">See <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.6" class="relref">Section 5.6</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> and <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.7" class="relref">Section 5.7</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.
For retransmission, a SCION client or server may compare available
paths and choose one or more paths that have minimum overlap
with the current (unreliable) path.<a href="#section-5.7-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="paths-having-different-pmtu-sizes">
<section id="section-5.8">
        <h3 id="name-paths-having-different-pmtu">
<a href="#section-5.8" class="section-number selfRef">5.8. </a><a href="#name-paths-having-different-pmtu" class="section-name selfRef">Paths Having Different PMTU Sizes</a>
        </h3>
<p id="section-5.8-1"><span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.8" class="relref">Section 5.8</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> suggests determining a single MTU size
in order to simplify retransmission.<a href="#section-5.8-1" class="pilcrow">¶</a></p>
<div id="key-implications-5">
<section id="section-5.8.1">
          <h4 id="name-key-implications-6">
<a href="#section-5.8.1" class="section-number selfRef">5.8.1. </a><a href="#name-key-implications-6" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.8.1-1"><span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.8" class="relref">Section 5.8</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> explains that the benefit of using a
single MTU size is
to simplify retransmission processing, as the content of lost packets
initially sent on one path can be sent on another path without
further frame scheduling adaptations.<a href="#section-5.8.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-5">
<section id="section-5.8.2">
          <h4 id="name-recommendations-6">
<a href="#section-5.8.2" class="section-number selfRef">5.8.2. </a><a href="#name-recommendations-6" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.8.2-1.1">
              <p id="section-5.8.2-1.1.1">On the client, this can be facilitated by computing a viable minimum
MTU size from all available network paths. However, it must be
considered that these values are not verified.<a href="#section-5.8.2-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.8.2-1.2">
              <p id="section-5.8.2-1.2.1">On the server, MTU values from path metadata are not available.
The server may request these from the local AS, but the exact
path may not be available (in SCION, different ASes may offer
different sets of paths to their customers).
Also, except for initially proposing a preferred address
(<span><a href="https://rfc-editor.org/rfc/rfc9000#section-9.6" class="relref">Section 9.6</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>), new paths must be opened by
the client, not the server, see <span><a href="https://rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>.<a href="#section-5.8.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
<div id="patsel">
<section id="section-5.9">
        <h3 id="name-path-selection">
<a href="#section-5.9" class="section-number selfRef">5.9. </a><a href="#name-path-selection" class="section-name selfRef">Path Selection</a>
        </h3>
<p id="section-5.9-1">The path selection component is responsible for requesting paths
to a destination, ordering the path based on policy and preferences,
using them when new QUIC-paths are opened, and retiring them or listing
them for reuse when they are closed.<a href="#section-5.9-1" class="pilcrow">¶</a></p>
<div id="dynamic-approach">
<section id="section-5.9.1">
          <h4 id="name-dynamic-approach">
<a href="#section-5.9.1" class="section-number selfRef">5.9.1. </a><a href="#name-dynamic-approach" class="section-name selfRef">Dynamic Approach</a>
          </h4>
<p id="section-5.9.1-1">A dynamic approach could start with using low latency paths. If the
connection appears to be long lasting, it could start (and keep)
adding additional paths as long as the traffic increases.<a href="#section-5.9.1-1" class="pilcrow">¶</a></p>
<p id="section-5.9.1-2">As an example, if the algorithm detects traffic that lasts for
at least one second and transfers at least 100MB of traffic,
the algorithm could trigger creation of additional QUIC paths.<a href="#section-5.9.1-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="bottleneck">
<section id="section-5.9.2">
          <h4 id="name-bottleneck-detection">
<a href="#section-5.9.2" class="section-number selfRef">5.9.2. </a><a href="#name-bottleneck-detection" class="section-name selfRef">Bottleneck Detection</a>
          </h4>
<p id="section-5.9.2-1">If live traffic information is not available, bottleneck detection
can help to identify links that should be avoided. In PANs,
this can be achieved using approaches such as <span>[<a href="#UMCC" class="cite xref">UMCC</a>]</span>.<a href="#section-5.9.2-1" class="pilcrow">¶</a></p>
<p id="section-5.9.2-2">An alternative is to use SCION's SCMP <code>traceroute</code> command
(<span><a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09#section-6" class="relref">Section 6</a> of [<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span>)
to measure the latency between two consecutive AS border routers.
The measured latency can be compared to earlier measurements or to
the latency given in the path metadata. Discrepancies can be an
indication of high traffic volume and queueing on the measured link.<a href="#section-5.9.2-2" class="pilcrow">¶</a></p>
<p id="section-5.9.2-3">While traceroute may be useful, it should be used with care:<a href="#section-5.9.2-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9.2-4.1">
              <p id="section-5.9.2-4.1.1">traceroute traffic is not congestion controlled.<a href="#section-5.9.2-4.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.9.2-4.2">
              <p id="section-5.9.2-4.2.1">It is clearly distinguishable from QUIC traffic, so it
may affect anonymity.<a href="#section-5.9.2-4.2.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
<div id="key-implications-6">
<section id="section-5.9.3">
          <h4 id="name-key-implications-7">
<a href="#section-5.9.3" class="section-number selfRef">5.9.3. </a><a href="#name-key-implications-7" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.9.3-1">Path selection is a key feature of SCION and PANs in general.
For more details, see <span>[<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span> and <span>[<a href="#SCION-DP" class="cite xref">SCION-DP</a>]</span>.<a href="#section-5.9.3-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-6">
<section id="section-5.9.4">
          <h4 id="name-recommendations-7">
<a href="#section-5.9.4" class="section-number selfRef">5.9.4. </a><a href="#name-recommendations-7" class="section-name selfRef">Recommendations</a>
          </h4>
<p id="section-5.9.4-1">In order to manage paths effectively, the path selection algorithm
probably requires access to the following fields and events:<a href="#section-5.9.4-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.9.4-2.1">
              <p id="section-5.9.4-2.1.1"><code>initial_max_path_id</code> (<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-2.1" class="relref">Section 2.1</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>)<a href="#section-5.9.4-2.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.9.4-2.2">
              <p id="section-5.9.4-2.2.1">MAX_PATH_ID frames (<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-4.6" class="relref">Section 4.6</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span><a href="#section-5.9.4-2.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.9.4-2.3">
              <p id="section-5.9.4-2.3.1">PATH_AVAILABLE and PATH_BACKUP, see <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-3.3" class="relref">Section 3.3</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>,<a href="#section-5.9.4-2.3.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.9.4-2.4">
              <p id="section-5.9.4-2.4.1">PATH_ABANDON <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-3.4" class="relref">Section 3.4</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.9.4-2.4.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-5.9.4-3">Moreover, path selection must exclude paths whose MTU is too
small to guarantee 1200 bytes MTU payload for QUIC packets.
The effective MTU also depends on the length of the paths.<a href="#section-5.9.4-3" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="scheduling">
<section id="section-5.10">
        <h3 id="name-packet-scheduling">
<a href="#section-5.10" class="section-number selfRef">5.10. </a><a href="#name-packet-scheduling" class="section-name selfRef">Packet Scheduling</a>
        </h3>
<p id="section-5.10-1">Packet scheduling helps to distribute the transfer load efficiently
over multiple paths, see also <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-5.5" class="relref">Section 5.5</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.10-1" class="pilcrow">¶</a></p>
<div id="key-implications-7">
<section id="section-5.10.1">
          <h4 id="name-key-implications-8">
<a href="#section-5.10.1" class="section-number selfRef">5.10.1. </a><a href="#name-key-implications-8" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.10.1-1">SCION paths are stable, at least on the inter-AS level,
i.e., they cannot change without initiative from the endpoints.<a href="#section-5.10.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-7">
<section id="section-5.10.2">
          <h4 id="name-recommendations-8">
<a href="#section-5.10.2" class="section-number selfRef">5.10.2. </a><a href="#name-recommendations-8" class="section-name selfRef">Recommendations</a>
          </h4>
<p id="section-5.10.2-1">Path stability may simplify packet scheduling algorithms because the
performance of individual QUIC-paths is more reliable if they
cannot unexpectedly be rerouted.<a href="#section-5.10.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="token">
<section id="section-5.11">
        <h3 id="name-address-validation-token">
<a href="#section-5.11" class="section-number selfRef">5.11. </a><a href="#name-address-validation-token" class="section-name selfRef">Address Validation Token</a>
        </h3>
<p id="section-5.11-1"><span><a href="https://rfc-editor.org/rfc/rfc9000#section-9.3" class="relref">Section 9.3</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> specifies that a server is
expected to send a new address validation token to a client
following the successful validation of a new client address.
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-8.1.4" class="relref">Section 8.1.4</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span> states:<a href="#section-5.11-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-5.11-2.1">
            <p id="section-5.11-2.1.1">"Tokens sent in Retry packets <span class="bcp14">SHOULD</span> include information that
allows the server to verify that the source IP address and port
in client packets remain constant."<a href="#section-5.11-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-5.11-2.2">
            <p id="section-5.11-2.2.1">"Tokens sent in NEW_TOKEN frames <span class="bcp14">MUST</span> include information that
allows the server to verify that the client IP address has not
changed from when the token was issued."<a href="#section-5.11-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-5.11-3">These must be read such that "IP address" becomes "network address",
meaning that it includes the ISD/AS code of a peer.<a href="#section-5.11-3" class="pilcrow">¶</a></p>
</section>
</div>
<div id="path-id-allocation">
<section id="section-5.12">
        <h3 id="name-path-id-allocation">
<a href="#section-5.12" class="section-number selfRef">5.12. </a><a href="#name-path-id-allocation" class="section-name selfRef">Path ID Allocation</a>
        </h3>
<p id="section-5.12-1">SCION application may use many paths. This poses two problems:
initial path ID allocation and incremental path ID allocation.
See also <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-4.6" class="relref">Section 4.6</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span> and <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-4.7" class="relref">Section 4.7</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.<a href="#section-5.12-1" class="pilcrow">¶</a></p>
<p id="section-5.12-2">When initializing a connection, servers and clients should be careful to
set the maximum path ID high enough to allow as many paths as an application
may need, e.g., through the initial_max_path_id transport parameter or the
MAX_PATH_ID frame.<a href="#section-5.12-2" class="pilcrow">¶</a></p>
<p id="section-5.12-3">Afterwards, on a bad connection, paths IDs may still run out earlier than
expected, so servers should allocate new path IDs either automatically or
on demand when receiving a PATHS_BLOCKED frame.<a href="#section-5.12-3" class="pilcrow">¶</a></p>
<div id="key-implications-8">
<section id="section-5.12.1">
          <h4 id="name-key-implications-9">
<a href="#section-5.12.1" class="section-number selfRef">5.12.1. </a><a href="#name-key-implications-9" class="section-name selfRef">Key Implications</a>
          </h4>
<p id="section-5.12.1-1">SCION path IDs may run out quickly unless the server provides enough
initial path IDs and provides enough path IDs once the initial contingent
runs out.<a href="#section-5.12.1-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="recommendations-8">
<section id="section-5.12.2">
          <h4 id="name-recommendations-9">
<a href="#section-5.12.2" class="section-number selfRef">5.12.2. </a><a href="#name-recommendations-9" class="section-name selfRef">Recommendations</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-5.12.2-1.1">
              <p id="section-5.12.2-1.1.1">Ensure that servers and clients are prepared to agree on an initial
number of path IDs that is high enough for the user application.
This should be configurable.<a href="#section-5.12.2-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.12.2-1.2">
              <p id="section-5.12.2-1.2.1">Ensure that either the server proactively allocates new path IDs
(MAX_PATH_ID frame) when they are running out, or that the server
allocates sufficiently many new path IDs once the client sends a
PATHS_BLOCKED frame.<a href="#section-5.12.2-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-5.12.2-1.3">
              <p id="section-5.12.2-1.3.1">Optional: Allow the client to send PATHS_BLOCKED proactively even before
the path IDs are exhausted. Prepare the server to accept early
PATHS_BLOCKED frames and respond by allocating a gracious amount of
additional path IDs.<a href="#section-5.12.2-1.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
</section>
</div>
</section>
</div>
</section>
</div>
<div id="all-recommendations">
<section id="section-6">
      <h2 id="name-summary-of-recommendations">
<a href="#section-6" class="section-number selfRef">6. </a><a href="#name-summary-of-recommendations" class="section-name selfRef">Summary of Recommendations</a>
      </h2>
<p id="section-6-1">This memo is informational. However, we use <span>[<a href="#RFC2119" class="cite xref">RFC2119</a>]</span>
imperative language here for recommendations that are
relevant to security or performance.<a href="#section-6-1" class="pilcrow">¶</a></p>
<div id="recommendations-for-quic-mp-implementations">
<section id="section-6.1">
        <h3 id="name-recommendations-for-quic-mp">
<a href="#section-6.1" class="section-number selfRef">6.1. </a><a href="#name-recommendations-for-quic-mp" class="section-name selfRef">Recommendations for QUIC-MP Implementations</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-6.1-1.1">
            <p id="section-6.1-1.1.1">To prevent attackers circumventing path validation, a QUIC-MP
implementation <span class="bcp14">MUST</span> ensure to trigger path validation when the
network address of the destination changes; this includes
IP, port and AS number. This protects against several attacks,
see <a href="#attack-path-injection" class="auto internal xref">Section 7.2</a> and especially
<a href="#attack-amplification" class="auto internal xref">Section 7.2.2</a>.<a href="#section-6.1-1.1.1" class="pilcrow">¶</a></p>
<p id="section-6.1-1.1.2">
There are several ways to achieve this, for example:<a href="#section-6.1-1.1.2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-1.1.3.1">
                <p id="section-6.1-1.1.3.1.1">Adapt the QUIC-MP library to be aware of the AS number in SCION
network addresses.<a href="#section-6.1-1.1.3.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-1.1.3.2">
                <p id="section-6.1-1.1.3.2.1">If the network address is available as a single "object",
the SCION layer can extend this with the AS code, and the
QUIC-MP implementation must only ensure to compare the whole
object instead of port and IP separately.<a href="#section-6.1-1.1.3.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-1.1.3.3">
                <p id="section-6.1-1.1.3.3.1">The SCION implementation could detect cases where only the AS
changes and then mangle the port or IP to trigger a path validation
in the QUIC-MP layer. This may be a pragmatic solution but is
discouraged, because:<a href="#section-6.1-1.1.3.3.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-1.1.3.3.2.1">
                    <p id="section-6.1-1.1.3.3.2.1.1">Managing paths in the SCION layer is not trivial because it requires
synchronizing the lifecycle of SCION paths and QUIC-MP paths, e.g.,
knowing when is a path valid or when is it closed in QUIC-MP.<a href="#section-6.1-1.1.3.3.2.1.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-6.1-1.1.3.3.2.2">
                    <p id="section-6.1-1.1.3.3.2.2.1">It creates opportunities for memory exhaustion attacks
(for storing the mapping of mangled IP/port).<a href="#section-6.1-1.1.3.3.2.2.1" class="pilcrow">¶</a></p>
</li>
                  <li class="normal" id="section-6.1-1.1.3.3.2.3">
                    <p id="section-6.1-1.1.3.3.2.3.1">It reports a wrong IP/port to the application.<a href="#section-6.1-1.1.3.3.2.3.1" class="pilcrow">¶</a></p>
</li>
                </ul>
</li>
            </ul>
</li>
          <li class="normal" id="section-6.1-1.2">
            <p id="section-6.1-1.2.1">A QUIC-MP implementations <span class="bcp14">SHOULD</span> be able to recognize network
path changes beyond 4-tuple or AS changes. This enables resetting
congestion control and RTT algorithms.<a href="#section-6.1-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-1.3">
            <p id="section-6.1-1.3.1">A QUIC-MP implementation, especially congestion control, RTT estimation,
and path selection algorithms should be careful to not accept or probe
all available SCION network paths. There may be a large number of path
available and probing or using them all may amount to a denial of service
attack on the receiver.<a href="#section-6.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.1-1.4">
            <p id="section-6.1-1.4.1">To prevent problems with path ID exhaustion with multi-path applications,
see <a href="#path-id-allocation" class="auto internal xref">Section 5.12</a>:<a href="#section-6.1-1.4.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.1-1.4.2.1">
                <p id="section-6.1-1.4.2.1.1">Servers and clients should initialize the connection with
sufficiently many path IDs.<a href="#section-6.1-1.4.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-1.4.2.2">
                <p id="section-6.1-1.4.2.2.1">Servers should proactively allocate new path IDs when they run low.<a href="#section-6.1-1.4.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.1-1.4.2.3">
                <p id="section-6.1-1.4.2.3.1">Clients should proactively send PATHS_BLOCKED when path IDs run low,
Servers should accept and react to PATHS_BLOCKED before path IDs are
actually exhausted.<a href="#section-6.1-1.4.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
        </ul>
</section>
</div>
<div id="recommendations-for-scion-implementations">
<section id="section-6.2">
        <h3 id="name-recommendations-for-scion-i">
<a href="#section-6.2" class="section-number selfRef">6.2. </a><a href="#name-recommendations-for-scion-i" class="section-name selfRef">Recommendations for SCION Implementations</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-6.2-1.1">
            <p id="section-6.2-1.1.1">SCION implementations can prevent attackers from expoloiting a skipped
path validation by preventing path injection (<a href="#attack-path-injection" class="auto internal xref">Section 7.2</a>).
To prevent path injection:<a href="#section-6.2-1.1.1" class="pilcrow">¶</a></p>
<p id="section-6.2-1.1.2">
1) Border routers <span class="bcp14">MUST</span> verify that any packet whose path indicates origin
   outside of the local AS, the underlay IP must match a known border router
   IP.
2) Border routers <span class="bcp14">MUST</span> verify that for any packet that originates in the
   local AS, the underlay IP matches the SCION SRC IP.
3) SCION server libraries <span class="bcp14">MUST</span> respond to the underlay IP from which a
   request was received.<a href="#section-6.2-1.1.2" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-1.2">
            <p id="section-6.2-1.2.1">A SCION implementation <span class="bcp14">SHOULD NOT</span> store or cache paths,
especially not on the server side. This prevents memory
exhaustion attacks, see {attack-memory-exhaustion}.
This also avoids the problem of path lifecycle maintenance, i.e.,
determining which paths are still alive and which have been closed
or abandoned.
Sometimes, storing paths is inevitable, see <a href="#sig" class="auto internal xref">Section 4.6</a>.
For security concerns, see also <a href="#attack-path-injection" class="auto internal xref">Section 7.2</a>.<a href="#section-6.2-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-1.3">
            <p id="section-6.2-1.3.1">If a SCION implementation stores paths internally, it must be careful
to avoid using IP/port as key to look up paths. IP/port are not unique
to identify endpoints.<a href="#section-6.2-1.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.2-1.4">
            <p id="section-6.2-1.4.1">When used with QUIC-MP, a SCION implementation <span class="bcp14">MUST NOT</span> change the
network paths, possibly with the exception of refreshing expired
paths.
When a path stops working, the implementation should instead report
an error to the QUIC(-MP) layer or time out silently.<a href="#section-6.2-1.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="recommendations-for-both-quic-mp-and-scion-implementations">
<section id="section-6.3">
        <h3 id="name-recommendations-for-both-qu">
<a href="#section-6.3" class="section-number selfRef">6.3. </a><a href="#name-recommendations-for-both-qu" class="section-name selfRef">Recommendations For Both QUIC-MP And SCION Implementations</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-6.3-1.1">
            <p id="section-6.3-1.1.1">A server should return packets on the same path on which they were
received.<a href="#section-6.3-1.1.1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-6.3-1.1.2.1">
                <p id="section-6.3-1.1.2.1.1">Generally, a server <span class="bcp14">SHOULD</span> respond on the same path on which the data
was originally requested, unless the new path has been validated.
This ensures that the path does not violate the path policy of the
client.<a href="#section-6.3-1.1.2.1.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3-1.1.2.2">
                <p id="section-6.3-1.1.2.2.1">A server <span class="bcp14">SHOULD NOT</span> create new paths. This is also stated in
<span><a href="https://rfc-editor.org/rfc/rfc9000#section-9" class="relref">Section 9</a> of [<a href="#QUIC-TRANSPORT" class="cite xref">QUIC-TRANSPORT</a>]</span>. Servers may communicate a preferred
address after the initial handshake. However, it is recommended to
avoid that because any new path may violate a client's path policy.<a href="#section-6.3-1.1.2.2.1" class="pilcrow">¶</a></p>
</li>
              <li class="normal" id="section-6.3-1.1.2.3">
                <p id="section-6.3-1.1.2.3.1">Returning probing packets on the same network path on which they
were received: This greatly simplifies RTT estimation, see <a href="#rtt" class="auto internal xref">Section 5.5</a>.<a href="#section-6.3-1.1.2.3.1" class="pilcrow">¶</a></p>
</li>
            </ul>
</li>
          <li class="normal" id="section-6.3-1.2">
            <p id="section-6.3-1.2.1">Clients may replace expired or soon-to-expire paths with identical
paths without performing path migration / validation.<a href="#section-6.3-1.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-6.3-1.3">
            <p id="section-6.3-1.3.1">Within a QUIC-MP session, every SCION network path should be used only
with one path ID. However, it may be reused if the path was abandoned
or closed by QUIC. This is the responsibility of the path selection
algorithm, regardless of whether it is considered part of SCION or
part of QUIC-MP.<a href="#section-6.3-1.3.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="other-recommendations">
<section id="section-6.4">
        <h3 id="name-other-recommendations">
<a href="#section-6.4" class="section-number selfRef">6.4. </a><a href="#name-other-recommendations" class="section-name selfRef">Other Recommendations</a>
        </h3>
<ul class="normal">
<li class="normal" id="section-6.4-1.1">
            <p id="section-6.4-1.1.1">Servers and client should aim to be located in respective local networks
(local ASes) that have protection against IP spoofing from machines in the
same network, see <a href="#attack-path-injection" class="auto internal xref">Section 7.2</a>.<a href="#section-6.4-1.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="security-considerations">
<section id="section-7">
      <h2 id="name-security-considerations">
<a href="#section-7" class="section-number selfRef">7. </a><a href="#name-security-considerations" class="section-name selfRef">Security Considerations</a>
      </h2>
<p id="section-7-1">The aim is that QUIC-MP over SCION retains all security
properties of QUIC-MP and SCION. However, this requires some
implementation changes and additional consideration regarding:<a href="#section-7-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7-2.1">
          <p id="section-7-2.1.1">endpoint identity: a 4-tuple is not sufficient to identify an endhost;<a href="#section-7-2.1.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-2.2">
          <p id="section-7-2.2.1">network path authenticity: paths may be forged by malicious clients;<a href="#section-7-2.2.1" class="pilcrow">¶</a></p>
</li>
        <li class="normal" id="section-7-2.3">
          <p id="section-7-2.3.1">path probing patterns may expose user intentions or identity.<a href="#section-7-2.3.1" class="pilcrow">¶</a></p>
</li>
      </ul>
<div id="attack-ip-ambiguity">
<section id="section-7.1">
        <h3 id="name-ip-ambiguity">
<a href="#section-7.1" class="section-number selfRef">7.1. </a><a href="#name-ip-ambiguity" class="section-name selfRef">IP Ambiguity</a>
        </h3>
<p id="section-7.1-1">In SCION, IP addresses are not sufficient to uniquely identify a peer endpoint.
ASes are free to use IP addresses from "private" IP ranges.<a href="#section-7.1-1" class="pilcrow">¶</a></p>
<p id="section-7.1-2">To attack a client with IP address X, an attacker could set up an endpoint
with identical IP X in a different AS. The attacker can then contact a server
endpoint that is also used by the client victim.<a href="#section-7.1-2" class="pilcrow">¶</a></p>
<p id="section-7.1-3">If the server endpoint stores path internally with IP addresses as keys,
then this would result in a key collision, which can cause two types of problems:<a href="#section-7.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.1-4.1">
            <p id="section-7.1-4.1.1">If the attacker contacts the server after the client, the contact may result
in overwriting the existing entry (of the victim).<a href="#section-7.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.1-4.2">
            <p id="section-7.1-4.2.1">If overwriting is prevented, the attacker may contact the server before the victim,
thus potentially preventing the victim from establishing a connection,<a href="#section-7.1-4.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="section-7.1-5">The second case is more difficult to achieve. Often, connections may be store by
IP+port, so the attacker must guess the victims port when launching the attack.<a href="#section-7.1-5" class="pilcrow">¶</a></p>
<div id="mitigation">
<section id="section-7.1.1">
          <h4 id="name-mitigation">
<a href="#section-7.1.1" class="section-number selfRef">7.1.1. </a><a href="#name-mitigation" class="section-name selfRef">Mitigation</a>
          </h4>
<ul class="normal">
<li class="normal" id="section-7.1.1-1.1">
              <p id="section-7.1.1-1.1.1">A SCION implementation should avoid storing paths while using
the IP address as key to look up paths.
For QUIC-MP, the best solution is to use the QUIC Path ID as key.<a href="#section-7.1.1-1.1.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-7.1.1-1.2">
              <p id="section-7.1.1-1.2.1">SCION libraries could us port/IP mangling when they detect multiple paths with
the same IP/port. However, this may have unintended consequences in the
application layer.<a href="#section-7.1.1-1.2.1" class="pilcrow">¶</a></p>
</li>
            <li class="normal" id="section-7.1.1-1.3">
              <p id="section-7.1.1-1.3.1">Higher level libraries, such as QUIC(-MP) should be carefuol to not
rely only on IP addresses to trigger path validation or resetting
congestion control or RTT estimation algorithms. Instead, QUIC-MP should
rely on the QUIC Path ID.<a href="#section-7.1.1-1.3.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<p id="section-7.1.1-2">Circumventing path validation is not possible, because that would require injecting
a new path, see <a href="#attack-path-injection" class="auto internal xref">Section 7.2</a>.<a href="#section-7.1.1-2" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="attack-path-injection">
<section id="section-7.2">
        <h3 id="name-path-injection">
<a href="#section-7.2" class="section-number selfRef">7.2. </a><a href="#name-path-injection" class="section-name selfRef">Path Injection</a>
        </h3>
<p id="section-7.2-1">There are several potential attacks that are based on injecting
valid or invalid paths into the server-side software stack.
Injecting a path means sending a packet with an incorrect path to an endpoint
such that the endpoint sends a response along that path. The path is incorrect
insofar as it does not accurately describe the route of the original request packet.<a href="#section-7.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2-2">In summary, these attacks can be prevented by the recommendations
listed in <a href="#all-recommendations" class="auto internal xref">Section 6</a>. The following scenarios are considered:<a href="#section-7.2-2" class="pilcrow">¶</a></p>
<ol start="1" type="1" class="normal type-1" id="section-7.2-3">
<li id="section-7.2-3.1">
            <p id="section-7.2-3.1.1">The SCION SRC address is wrong. I.e., the packet originates in the correct AS
but from a different IP than what is announced in the SCION SRC address field.<a href="#section-7.2-3.1.1" class="pilcrow">¶</a></p>
<p id="section-7.2-3.1.2">
To avoid this, border routers <span class="bcp14">MUST</span> drop egress packets whose path indicates
a local origin, but whose SCION SRC address does not match the underlay
SRC address.<a href="#section-7.2-3.1.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-7.2-3.2">
            <p id="section-7.2-3.2.1">The path is too long. The packet originates in an AS that is different from the
first AS announced in the path.<a href="#section-7.2-3.2.1" class="pilcrow">¶</a></p>
<p id="section-7.2-3.2.2">
To avoid this, a border router <span class="bcp14">MUST</span> drop egress packets whose paths indicate
AS-external origin but whose underlay address does not
match that of a known border router.<a href="#section-7.2-3.2.2" class="pilcrow">¶</a></p>
</li>
          <li id="section-7.2-3.3">
            <p id="section-7.2-3.3.1">The path is not empty. This is an extreme case of the previous example. The
packet originates in the destination AS and is sent directly to the endpoint.
In this case the path should be empty.<a href="#section-7.2-3.3.1" class="pilcrow">¶</a></p>
<p id="section-7.2-3.3.2">
To avoid this, on a server, the SCION layer <span class="bcp14">MUST</span> always respond to the same
underlay address from which a request was received.
This is anyway useful for servers because responding to the same address also
avoids the need for the server to look up the first hop when sending a response.<a href="#section-7.2-3.3.2" class="pilcrow">¶</a></p>
</li>
        </ol>
<p id="section-7.2-4">An attacker can inject paths into a server only in the following circumstances:
- The attacker controls the border routers of an AS that is between a victim and
  a server.
- The attacker can spoof the address of a border router in an AS that is between
  the victim and a server.
- The attacker can spoof the address of a victim while being located inside the
  victims AS.<a href="#section-7.2-4" class="pilcrow">¶</a></p>
<div id="traffic-redirection-over-different-path">
<section id="section-7.2.1">
          <h4 id="name-traffic-redirection-over-di">
<a href="#section-7.2.1" class="section-number selfRef">7.2.1. </a><a href="#name-traffic-redirection-over-di" class="section-name selfRef">Traffic Redirection over Different Path</a>
          </h4>
<p id="section-7.2.1-1">An attacker may craft a path with a network address that is identical
to an existing valid endpoint, but with a different path.<a href="#section-7.2.1-1" class="pilcrow">¶</a></p>
<p id="section-7.2.1-2">The new route may be invalid (e.g., contain nonexistent links)
or faulty (contain links that are broken or have high latency
or drop rate).<a href="#section-7.2.1-2" class="pilcrow">¶</a></p>
<p id="section-7.2.1-3">The new route may also work fine, but violate the client's path policy
or be used for traffic analysis.<a href="#section-7.2.1-3" class="pilcrow">¶</a></p>
<p id="section-7.2.1-4">The attacker injects the crafted path into the server, with the intent that the
non-unique IP causes an existing path/connection mapping to be overwritten, and
thus replace the victims path with the updated path.<a href="#section-7.2.1-4" class="pilcrow">¶</a></p>
<span id="name-example-of-non-unique-ips"></span><div id="fig-example-non-unique-ip">
<figure id="figure-1">
            <div class="alignLeft art-text artwork" id="section-7.2.1-5.1">
<pre>
     AS #100               AS #200                   AS #300
  +-----------------+        +--------------+        +--------------+
  | Server          |        | Attacker     |        | Victim       |
  | IP=198.51.100.1 | ------ | IP=192.0.2.1 | ------ | IP=192.0.2.1 |
  | port=42         |        | port=12345   |        | port=12345   |
  +-----------------+        +--------------+        +--------------+

</pre>
</div>
<figcaption><a href="#figure-1" class="selfRef">Figure 1</a>:
<a href="#name-example-of-non-unique-ips" class="selfRef">Example of non-unique IPs</a>
            </figcaption></figure>
</div>
<p id="section-7.2.1-6">Mitigation:<a href="#section-7.2.1-6" class="pilcrow">¶</a></p>
<p id="section-7.2.1-7">This attack requires either spoofing of the client's IP address
(when the attacker is in the same AS as the client),
spoofing of a border router's IP address (when the attacker
is in the server's AS), or injection of a path (which requires
control over an AS that is en-route between the client and server).<a href="#section-7.2.1-7" class="pilcrow">¶</a></p>
<p id="section-7.2.1-8">This can be further mitigated by the recommendation that path validation
should always be triggered when the network address or path
changes, even if the 4-tuple stays the same.<a href="#section-7.2.1-8" class="pilcrow">¶</a></p>
</section>
</div>
<div id="attack-amplification">
<section id="section-7.2.2">
          <h4 id="name-traffic-amplification">
<a href="#section-7.2.2" class="section-number selfRef">7.2.2. </a><a href="#name-traffic-amplification" class="section-name selfRef">Traffic Amplification</a>
          </h4>
<p id="section-7.2.2-1">An attacker may establish a connection with a server,
request a large amount of data, and then inject a path that
redirects to a victim that has the same IP/port, but in a different AS.<a href="#section-7.2.2-1" class="pilcrow">¶</a></p>
<p id="section-7.2.2-2">If the server-side QUIC-MP does not trigger path validation
(because IP/port are the same), then it may implicitly accept
the new path and send the requested data to a victim.<a href="#section-7.2.2-2" class="pilcrow">¶</a></p>
<p id="section-7.2.2-3">Mitigation:<a href="#section-7.2.2-3" class="pilcrow">¶</a></p>
<p id="section-7.2.2-4">This attack requires either spoofing of the client's IP address
(when the attacker is in the same AS as the client),
spoofing of a border router's IP address (when the attacker
is in the server's AS), or injection of a path (which requires
control over an AS that is en-route between the client and server).
- A QUIC(-MP) library must consider all attributes
  (not just the 4-tuple) when checking for a change in the network
  address. This would then trigger path validation, and the attack
  can be averted.
- If a QUIC(-MP) library cannot compare additional attributes
  (e.g., legacy library), the SCION layer (server side) should have an
  option to perform port mangling or IP mangling: when the SCION layer
  detects a new network address that differs only in the AS number
  from a previously seen address (IP/port are the same), then it
  should perform IP/port mangling, i.e., reporting a modified IP or
  port to the QUIC(-MP) layer. This new IP/port would trigger a path
  validation or algorithm reset where required.<a href="#section-7.2.2-4" class="pilcrow">¶</a></p>
<p id="section-7.2.2-5">Caveats:<a href="#section-7.2.2-5" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.2.2-6.1">
              <p id="section-7.2.2-6.1.1">Offering a mangled IP/port to the application may have implications
for application correctness, such as displaying an unexpected IP/port.<a href="#section-7.2.2-6.1.1" class="pilcrow">¶</a></p>
</li>
          </ul>
<span id="name-example-of-traffic-amplific"></span><div id="fig-example-new-path">
<figure id="figure-2">
            <div class="alignLeft art-text artwork" id="section-7.2.2-7.1">
<pre>
   Attacker                                                Server
   (Establish connection)
   Path=[#200, #100] --&gt;
                                                &lt;-- Path=[#100, #200]

   (Change Path)
   Path=[#300, #200, #100] --&gt;
                                          &lt;-- Path=[#100, #200, #300]

   Client: receives unwanted traffic
</pre>
</div>
<figcaption><a href="#figure-2" class="selfRef">Figure 2</a>:
<a href="#name-example-of-traffic-amplific" class="selfRef">Example of traffic amplification attack</a>
            </figcaption></figure>
</div>
</section>
</div>
</section>
</div>
<div id="attack-memory-exhaustion">
<section id="section-7.3">
        <h3 id="name-memory-exhaustion">
<a href="#section-7.3" class="section-number selfRef">7.3. </a><a href="#name-memory-exhaustion" class="section-name selfRef">Memory Exhaustion</a>
        </h3>
<p id="section-7.3-1">An attacker may flood a server with packets that each have a
different source network address or path. If these are stored in the
SCION layer, they may cause memory exhaustion.<a href="#section-7.3-1" class="pilcrow">¶</a></p>
<p id="section-7.3-2">Mitigation: do not store state in the SCION layer, or implement
a way to clean up state without affecting a valid connection.
Specifically, the SCION layer must drop a path if the QUIC layer
closes the path, abandons the path, or rejects a packet with a new path.<a href="#section-7.3-2" class="pilcrow">¶</a></p>
</section>
</div>
<div id="security-many-paths">
<section id="section-7.4">
        <h3 id="name-number-of-open-paths">
<a href="#section-7.4" class="section-number selfRef">7.4. </a><a href="#name-number-of-open-paths" class="section-name selfRef">Number of Open Paths</a>
        </h3>
<p id="section-7.4-1">The number of open paths should be limited, see
<span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-7.2" class="relref">Section 7.2</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>.
This is important in the context of applications that may open many
paths in parallel.<a href="#section-7.4-1" class="pilcrow">¶</a></p>
<p id="section-7.4-2">Mitigation:<a href="#section-7.4-2" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.4-3.1">
            <p id="section-7.4-3.1.1">Same as <span><a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16#section-7.2" class="relref">Section 7.2</a> of [<a href="#QUIC-MP" class="cite xref">QUIC-MP</a>]</span>: endpoints
 need to limit the maximum number of paths and might consider
 additional measures to limit the number of concurrent path validation
 processes, e.g., by pacing them out or limiting the number of path
 initiation attempts over a certain time period.<a href="#section-7.4-3.1.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="probe-fingerprinting">
<section id="section-7.5">
        <h3 id="name-probe-fingerprinting">
<a href="#section-7.5" class="section-number selfRef">7.5. </a><a href="#name-probe-fingerprinting" class="section-name selfRef">Probe Fingerprinting</a>
        </h3>
<p id="section-7.5-1">An endpoint may probe multiple paths to determine the best
path(s) for a given use case. One example of probing packets is
packets that measure round-trip time (RTT).<a href="#section-7.5-1" class="pilcrow">¶</a></p>
<p id="section-7.5-2">Probing packets may be detected if they are sent in bulk, to the
same destination, in regular intervals, and all with slightly
different paths attached.<a href="#section-7.5-2" class="pilcrow">¶</a></p>
<p id="section-7.5-3">This can be used to fingerprint an endpoint or their intentions
(applications may have unique intervals defined).<a href="#section-7.5-3" class="pilcrow">¶</a></p>
<p id="section-7.5-4">This can be mitigated by varying and generally reducing the
number of probing packets, and by sending probing packets
not en-block but time-shifted.<a href="#section-7.5-4" class="pilcrow">¶</a></p>
</section>
</div>
<div id="additional-points">
<section id="section-7.6">
        <h3 id="name-additional-points">
<a href="#section-7.6" class="section-number selfRef">7.6. </a><a href="#name-additional-points" class="section-name selfRef">Additional Points</a>
        </h3>
<p id="section-7.6-1">TODO: Complete this section in a future version of this document.<a href="#section-7.6-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="section-7.6-2.1">
            <p id="section-7.6-2.1.1">Use multipathing for anonymity, see <a href="#categories" class="auto internal xref">Section 4</a>.<a href="#section-7.6-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="section-7.6-2.2">
            <p id="section-7.6-2.2.1">See other attacks in <span><a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09#section-7.2.4" class="relref">Section 7.2.4</a> of [<a href="#SCION-CP" class="cite xref">SCION-CP</a>]</span>?<a href="#section-7.6-2.2.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
</section>
</div>
<div id="iana-considerations">
<section id="section-8">
      <h2 id="name-iana-considerations">
<a href="#section-8" class="section-number selfRef">8. </a><a href="#name-iana-considerations" class="section-name selfRef">IANA Considerations</a>
      </h2>
<p id="section-8-1">This document has no IANA actions.<a href="#section-8-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="sec-combined-references">
<section id="section-9">
      <h2 id="name-references">
<a href="#section-9" class="section-number selfRef">9. </a><a href="#name-references" class="section-name selfRef">References</a>
      </h2>
<div id="sec-normative-references">
<section id="section-9.1">
        <h3 id="name-normative-references">
<a href="#section-9.1" class="section-number selfRef">9.1. </a><a href="#name-normative-references" class="section-name selfRef">Normative References</a>
        </h3>
<dl class="references">
<dt id="CC-ALGORITHMS">[CC-ALGORITHMS]</dt>
        <dd>
<span class="refAuthor">Duke, M., Ed.</span> and <span class="refAuthor">G. Fairhurst, Ed.</span>, <span class="refTitle">"Specifying New Congestion Control Algorithms"</span>, <span class="seriesInfo">BCP 133</span>, <span class="seriesInfo">RFC 9743</span>, <span class="seriesInfo">DOI 10.17487/RFC9743</span>, <time datetime="2025-03" class="refDate">March 2025</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9743">https://www.rfc-editor.org/rfc/rfc9743</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="CC-PRINCIPLES">[CC-PRINCIPLES]</dt>
        <dd>
<span class="refAuthor">Floyd, S.</span>, <span class="refTitle">"Congestion Control Principles"</span>, <span class="seriesInfo">BCP 41</span>, <span class="seriesInfo">RFC 2914</span>, <span class="seriesInfo">DOI 10.17487/RFC2914</span>, <time datetime="2000-09" class="refDate">September 2000</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2914">https://www.rfc-editor.org/rfc/rfc2914</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DCCP-UDPENCAP">[DCCP-UDPENCAP]</dt>
        <dd>
<span class="refAuthor">Phelan, T.</span>, <span class="refAuthor">Fairhurst, G.</span>, and <span class="refAuthor">C. Perkins</span>, <span class="refTitle">"DCCP-UDP: A Datagram Congestion Control Protocol UDP Encapsulation for NAT Traversal"</span>, <span class="seriesInfo">RFC 6773</span>, <span class="seriesInfo">DOI 10.17487/RFC6773</span>, <time datetime="2012-11" class="refDate">November 2012</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6773">https://www.rfc-editor.org/rfc/rfc6773</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MPTCP-ARCHITECTURE">[MPTCP-ARCHITECTURE]</dt>
        <dd>
<span class="refAuthor">Ford, A.</span>, <span class="refAuthor">Raiciu, C.</span>, <span class="refAuthor">Handley, M.</span>, <span class="refAuthor">Barre, S.</span>, and <span class="refAuthor">J. Iyengar</span>, <span class="refTitle">"Architectural Guidelines for Multipath TCP Development"</span>, <span class="seriesInfo">RFC 6182</span>, <span class="seriesInfo">DOI 10.17487/RFC6182</span>, <time datetime="2011-03" class="refDate">March 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6182">https://www.rfc-editor.org/rfc/rfc6182</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="MTU-DISCOVERY">[MTU-DISCOVERY]</dt>
        <dd>
<span class="refAuthor">Fairhurst, G.</span>, <span class="refAuthor">Jones, T.</span>, <span class="refAuthor">Tüxen, M.</span>, <span class="refAuthor">Rüngeler, I.</span>, and <span class="refAuthor">T. Völker</span>, <span class="refTitle">"Packetization Layer Path MTU Discovery for Datagram Transports"</span>, <span class="seriesInfo">RFC 8899</span>, <span class="seriesInfo">DOI 10.17487/RFC8899</span>, <time datetime="2020-09" class="refDate">September 2020</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8899">https://www.rfc-editor.org/rfc/rfc8899</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-RECOVERY">[QUIC-RECOVERY]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">I. Swett, Ed.</span>, <span class="refTitle">"QUIC Loss Detection and Congestion Control"</span>, <span class="seriesInfo">RFC 9002</span>, <span class="seriesInfo">DOI 10.17487/RFC9002</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9002">https://www.rfc-editor.org/rfc/rfc9002</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-TLS">[QUIC-TLS]</dt>
        <dd>
<span class="refAuthor">Thomson, M., Ed.</span> and <span class="refAuthor">S. Turner, Ed.</span>, <span class="refTitle">"Using TLS to Secure QUIC"</span>, <span class="seriesInfo">RFC 9001</span>, <span class="seriesInfo">DOI 10.17487/RFC9001</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9001">https://www.rfc-editor.org/rfc/rfc9001</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-TRANSPORT">[QUIC-TRANSPORT]</dt>
        <dd>
<span class="refAuthor">Iyengar, J., Ed.</span> and <span class="refAuthor">M. Thomson, Ed.</span>, <span class="refTitle">"QUIC: A UDP-Based Multiplexed and Secure Transport"</span>, <span class="seriesInfo">RFC 9000</span>, <span class="seriesInfo">DOI 10.17487/RFC9000</span>, <time datetime="2021-05" class="refDate">May 2021</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9000">https://www.rfc-editor.org/rfc/rfc9000</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC2119">[RFC2119]</dt>
        <dd>
<span class="refAuthor">Bradner, S.</span>, <span class="refTitle">"Key words for use in RFCs to Indicate Requirement Levels"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 2119</span>, <span class="seriesInfo">DOI 10.17487/RFC2119</span>, <time datetime="1997-03" class="refDate">March 1997</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc2119">https://www.rfc-editor.org/rfc/rfc2119</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="RFC8174">[RFC8174]</dt>
        <dd>
<span class="refAuthor">Leiba, B.</span>, <span class="refTitle">"Ambiguity of Uppercase vs Lowercase in RFC 2119 Key Words"</span>, <span class="seriesInfo">BCP 14</span>, <span class="seriesInfo">RFC 8174</span>, <span class="seriesInfo">DOI 10.17487/RFC8174</span>, <time datetime="2017-05" class="refDate">May 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8174">https://www.rfc-editor.org/rfc/rfc8174</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UDP-GUIDELINES">[UDP-GUIDELINES]</dt>
      <dd>
<span class="refAuthor">Eggert, L.</span>, <span class="refAuthor">Fairhurst, G.</span>, and <span class="refAuthor">G. Shepherd</span>, <span class="refTitle">"UDP Usage Guidelines"</span>, <span class="seriesInfo">BCP 145</span>, <span class="seriesInfo">RFC 8085</span>, <span class="seriesInfo">DOI 10.17487/RFC8085</span>, <time datetime="2017-03" class="refDate">March 2017</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc8085">https://www.rfc-editor.org/rfc/rfc8085</a>&gt;</span>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
<div id="sec-informative-references">
<section id="section-9.2">
        <h3 id="name-informative-references">
<a href="#section-9.2" class="section-number selfRef">9.2. </a><a href="#name-informative-references" class="section-name selfRef">Informative References</a>
        </h3>
<dl class="references">
<dt id="CC-MULTIPATH-TCP">[CC-MULTIPATH-TCP]</dt>
        <dd>
<span class="refAuthor">Raiciu, C.</span>, <span class="refAuthor">Handley, M.</span>, and <span class="refAuthor">D. Wischik</span>, <span class="refTitle">"Coupled Congestion Control for Multipath Transport Protocols"</span>, <span class="seriesInfo">RFC 6356</span>, <span class="seriesInfo">DOI 10.17487/RFC6356</span>, <time datetime="2011-10" class="refDate">October 2011</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc6356">https://www.rfc-editor.org/rfc/rfc6356</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="DMTP">[DMTP]</dt>
        <dd>
<span class="refAuthor">John, T.</span> and <span class="refAuthor">T. Riechard</span>, <span class="refTitle">"Deadline Aware Streams in QUIC Multipath"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-tjohn-quic-multipath-dmtp-01</span>, <time datetime="2025-06-05" class="refDate">5 June 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-tjohn-quic-multipath-dmtp-01">https://datatracker.ietf.org/doc/html/draft-tjohn-quic-multipath-dmtp-01</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="OLIA">[OLIA]</dt>
        <dd>
<span class="refAuthor">Khalili, R.</span>, <span class="refAuthor">Gast, N.</span>, <span class="refAuthor">Popovic, M.</span>, <span class="refAuthor">Upadhyay, U.</span>, and <span class="refAuthor">J. Le Boudec</span>, <span class="refTitle">"MPTCP is not pareto-optimal: performance issues and a possible solution"</span>, <span class="seriesInfo">Proceedings of the 8th international conference on Emerging networking experiments and technologies, ACM </span>, <time datetime="2012" class="refDate">2012</time>. </dd>
<dd class="break"></dd>
<dt id="PATH-VOCABULARY">[PATH-VOCABULARY]</dt>
        <dd>
<span class="refAuthor">Enghardt, R.</span> and <span class="refAuthor">C. Krähenbühl</span>, <span class="refTitle">"A Vocabulary of Path Properties"</span>, <span class="seriesInfo">RFC 9473</span>, <span class="seriesInfo">DOI 10.17487/RFC9473</span>, <time datetime="2023-09" class="refDate">September 2023</time>, <span>&lt;<a href="https://www.rfc-editor.org/rfc/rfc9473">https://www.rfc-editor.org/rfc/rfc9473</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-ACKFREQUENCY">[QUIC-ACKFREQUENCY]</dt>
        <dd>
<span class="refAuthor">Iyengar, J.</span>, <span class="refAuthor">Swett, I.</span>, and <span class="refAuthor">M. Kühlewind</span>, <span class="refTitle">"QUIC Acknowledgment Frequency"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-ack-frequency-11</span>, <time datetime="2025-02-28" class="refDate">28 February 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-ack-frequency-11">https://datatracker.ietf.org/doc/html/draft-ietf-quic-ack-frequency-11</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="QUIC-MP">[QUIC-MP]</dt>
        <dd>
<span class="refAuthor">Liu, Y.</span>, <span class="refAuthor">Ma, Y.</span>, <span class="refAuthor">De Coninck, Q.</span>, <span class="refAuthor">Bonaventure, O.</span>, <span class="refAuthor">Huitema, C.</span>, and <span class="refAuthor">M. Kühlewind</span>, <span class="refTitle">"Multipath Extension for QUIC"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-ietf-quic-multipath-16</span>, <time datetime="2025-08-21" class="refDate">21 August 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16">https://datatracker.ietf.org/doc/html/draft-ietf-quic-multipath-16</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SCION-CP">[SCION-CP]</dt>
        <dd>
<span class="refAuthor">de Kater, C.</span>, <span class="refAuthor">Rustignoli, N.</span>, and <span class="refAuthor">S. Hitz</span>, <span class="refTitle">"SCION Control Plane"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-dekater-scion-controlplane-09</span>, <time datetime="2025-07-07" class="refDate">7 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09">https://datatracker.ietf.org/doc/html/draft-dekater-scion-controlplane-09</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="SCION-DP">[SCION-DP]</dt>
        <dd>
<span class="refAuthor">de Kater, C.</span>, <span class="refAuthor">Rustignoli, N.</span>, <span class="refAuthor">Hugly, J.</span>, and <span class="refAuthor">S. Hitz</span>, <span class="refTitle">"SCION Data Plane"</span>, <span class="refContent">Work in Progress</span>, <span class="seriesInfo">Internet-Draft, draft-dekater-scion-dataplane-06</span>, <time datetime="2025-07-07" class="refDate">7 July 2025</time>, <span>&lt;<a href="https://datatracker.ietf.org/doc/html/draft-dekater-scion-dataplane-06">https://datatracker.ietf.org/doc/html/draft-dekater-scion-dataplane-06</a>&gt;</span>. </dd>
<dd class="break"></dd>
<dt id="UMCC">[UMCC]</dt>
      <dd>
<span class="refAuthor">Gartner, M.</span> and <span class="refAuthor">D. Hausheer</span>, <span class="refTitle">"UMCC: Uncoupling Multipath Congestion Control through Shared Bottleneck Detection in Path-Aware Networks"</span>, <span class="seriesInfo">Proceedings of the IEEE 49th Conference on Local Computer Networks (LCN) </span>, <time datetime="2024" class="refDate">2024</time>. </dd>
<dd class="break"></dd>
</dl>
</section>
</div>
</section>
</div>
<div id="acknowledgments">
<section id="appendix-A">
      <h2 id="name-acknowledgments">
<a href="#name-acknowledgments" class="section-name selfRef">Acknowledgments</a>
      </h2>
<p id="appendix-A-1">Thanks to the Path Aware Networking Research Group for discussion
and feedback. Specifically, we would like to thank Kevin Meynell and
Nicola Rustignoli from the Scion Association for their valuable input
on several iterations of this document.<a href="#appendix-A-1" class="pilcrow">¶</a></p>
</section>
</div>
<div id="change-log">
<section id="appendix-B">
      <h2 id="name-change-log">
<a href="#name-change-log" class="section-name selfRef">Change Log</a>
      </h2>
<p id="appendix-B-1">Changes made to drafts since initial submission. This section is to be removed before publication.<a href="#appendix-B-1" class="pilcrow">¶</a></p>
<div id="draft-zaeschke-scion-quic-multipath-01">
<section id="appendix-B.1">
        <h3 id="name-draft-zaeschke-scion-quic-m">
<a href="#name-draft-zaeschke-scion-quic-m" class="section-name selfRef">draft-zaeschke-scion-quic-multipath-01</a>
        </h3>
<p id="appendix-B.1-1">Major changes:<a href="#appendix-B.1-1" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B.1-2.1">
            <p id="appendix-B.1-2.1.1">"Path Injection": clarify that path injection in SCION is, depending on the situation, either
impossible or only marginally useful for an attacker.
Rewrite sections <a href="#endpoint-identity" class="auto internal xref">Section 5.1</a> and <a href="#attack-path-injection" class="auto internal xref">Section 7.2</a>.<a href="#appendix-B.1-2.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-2.2">
            <p id="appendix-B.1-2.2.1">New section "IP Ambiguity" in security considerations: <a href="#attack-ip-ambiguity" class="auto internal xref">Section 7.1</a>.<a href="#appendix-B.1-2.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-2.3">
            <p id="appendix-B.1-2.3.1">Completed section on Address Validation Token, see <a href="#token" class="auto internal xref">Section 5.11</a>.<a href="#appendix-B.1-2.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-2.4">
            <p id="appendix-B.1-2.4.1">Added recommendation to avoid using all SCION paths.<a href="#appendix-B.1-2.4.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-2.5">
            <p id="appendix-B.1-2.5.1">Added section <a href="#path-id-allocation" class="auto internal xref">Section 5.12</a> on path ID allocation and exhaustion.<a href="#appendix-B.1-2.5.1" class="pilcrow">¶</a></p>
</li>
        </ul>
<p id="appendix-B.1-3">Minor changes:<a href="#appendix-B.1-3" class="pilcrow">¶</a></p>
<ul class="normal">
<li class="normal" id="appendix-B.1-4.1">
            <p id="appendix-B.1-4.1.1">Nits and wording improvements<a href="#appendix-B.1-4.1.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-4.2">
            <p id="appendix-B.1-4.2.1">Reviewed use of normative language<a href="#appendix-B.1-4.2.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-4.3">
            <p id="appendix-B.1-4.3.1">Added Changelog<a href="#appendix-B.1-4.3.1" class="pilcrow">¶</a></p>
</li>
          <li class="normal" id="appendix-B.1-4.4">
            <p id="appendix-B.1-4.4.1">Moved memory exhaustion attack into own section.<a href="#appendix-B.1-4.4.1" class="pilcrow">¶</a></p>
</li>
        </ul>
</section>
</div>
<div id="draft-zaeschke-scion-quic-multipath-00">
<section id="appendix-B.2">
        <h3 id="name-draft-zaeschke-scion-quic-mu">
<a href="#name-draft-zaeschke-scion-quic-mu" class="section-name selfRef">draft-zaeschke-scion-quic-multipath-00</a>
        </h3>
<p id="appendix-B.2-1">Initial submission.<a href="#appendix-B.2-1" class="pilcrow">¶</a></p>
</section>
</div>
</section>
</div>
<div id="authors-addresses">
<section id="appendix-C">
      <h2 id="name-authors-addresses">
<a href="#name-authors-addresses" class="section-name selfRef">Authors' Addresses</a>
      </h2>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Jelte van Bommel</span></div>
<div dir="auto" class="left"><span class="org">ETH Zurich</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:jelte.vanbommel@inf.ethz.ch" class="email">jelte.vanbommel@inf.ethz.ch</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Francois Wirz</span></div>
<div dir="auto" class="left"><span class="org">ETH Zurich</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:wirzf@inf.ethz.ch" class="email">wirzf@inf.ethz.ch</a>
</div>
</address>
<address class="vcard">
        <div dir="auto" class="left"><span class="fn nameRole">Tilmann Zaeschke (<span class="role">editor</span>)</span></div>
<div dir="auto" class="left"><span class="org">ETH Zurich</span></div>
<div class="email">
<span>Email:</span>
<a href="mailto:tilmann.zaeschke@inf.ethz.ch" class="email">tilmann.zaeschke@inf.ethz.ch</a>
</div>
</address>
</section>
</div>
<script>const toc = document.getElementById("toc");
toc.querySelector("h2").addEventListener("click", e => {
  toc.classList.toggle("active");
});
toc.querySelector("nav").addEventListener("click", e => {
  toc.classList.remove("active");
});
</script>
</body>
</html>
